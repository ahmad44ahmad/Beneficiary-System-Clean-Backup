import{r as l,a9 as c,j as e,ai as y,T as v,ac as w,a as _,t as i,U as S,a7 as d,O as C,aA as k,V as R,y as D,aW as $,aX as L,m as T}from"./index-BOMQ6ZnB.js";const a={orange:"rgb(245, 150, 30)",teal:"rgb(20, 130, 135)",navy:"rgb(20, 65, 90)"},E=()=>{const[x,m]=l.useState([]),[t,o]=l.useState(null),[h,j]=l.useState([]),[g,N]=l.useState(!0);l.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:s}=await c.from("services_gap_analysis").select("*");s&&m(s);const{data:r}=await c.from("independence_budget_analysis").select("*").single();r&&o(r);const{data:n}=await c.from("human_rights_compliance").select("*");n&&j(n)}catch(s){console.error("Error fetching data:",s)}finally{N(!1)}},u=s=>{switch(s){case"home_care":return e.jsx(T,{className:"w-5 h-5"});case"day_care":return e.jsx(L,{className:"w-5 h-5"});case"vocational_rehab":return e.jsx($,{className:"w-5 h-5"});default:return e.jsx(i,{className:"w-5 h-5"})}},b=s=>{switch(s){case"home_care":return"Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ©";case"day_care":return"Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠØ©";case"vocational_rehab":return"Ø§Ù„ØªØ£Ù‡ÙŠÙ„ Ø§Ù„Ù…Ù‡Ù†ÙŠ";default:return s}},f=s=>{switch(s){case"clothing_dignity":return"ÙƒØ±Ø§Ù…Ø© Ø§Ù„Ù…Ù„Ø¨Ø³";case"skill_training":return"Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª";case"food_choice":return"Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø·Ø¹Ø§Ù…";default:return s}};return g?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-t-transparent",style:{borderColor:`${a.teal} transparent ${a.teal} ${a.teal}`}})}):e.jsxs("div",{className:"space-y-6 p-6",dir:"rtl",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(y,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ØªØªØ¨Ø¹ Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ©"}),e.jsx("p",{className:"text-gray-500",children:"ØªØ­Ù„ÙŠÙ„ ÙØ¬ÙˆØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆÙ…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„ØªØ£Ù‡ÙŠÙ„"})]})]})}),t&&e.jsxs("div",{className:"bg-gradient-to-l from-red-600 to-red-500 rounded-2xl p-6 text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(v,{className:"w-8 h-8"}),e.jsx("h2",{className:"text-xl font-bold",children:"ÙØ¬ÙˆØ© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø­Ø±Ø¬Ø©"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white/20 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(w,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm opacity-90",children:"Ø¥Ù†ÙØ§Ù‚ Ø§Ù„ØªØ¨Ø¹ÙŠØ© (ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ©)"})]}),e.jsxs("div",{className:"text-4xl font-bold",children:[t.personal_care_contracts.toLocaleString()," ",e.jsx("span",{className:"text-lg",children:"Ø±ÙŠØ§Ù„"})]}),e.jsx("div",{className:"mt-2 text-sm opacity-75",children:"Ø¹Ù‚ÙˆØ¯ Ø¹Ù…Ø§Ù„Ø© Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø§Ù„Ø´Ø®ØµÙŠØ©"}),e.jsxs("div",{className:"mt-3 bg-white/10 rounded-lg p-2 text-center",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[t.dependency_ratio,"%"]}),e.jsx("span",{className:"text-sm mr-1",children:"Ù…Ù† Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©"})]})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm opacity-90",children:"Ø¥Ù†ÙØ§Ù‚ Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ© (ØªØ£Ù‡ÙŠÙ„ ÙˆØªØ¯Ø±ÙŠØ¨)"})]}),e.jsxs("div",{className:"text-4xl font-bold",children:[t.rehabilitation_budget.toLocaleString()," ",e.jsx("span",{className:"text-lg",children:"Ø±ÙŠØ§Ù„"})]}),e.jsx("div",{className:"mt-2 text-sm opacity-75",children:"Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ£Ù‡ÙŠÙ„ ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ù‡Ù†ÙŠ"}),e.jsxs("div",{className:"mt-3 bg-white/10 rounded-lg p-2 text-center",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[t.independence_ratio,"%"]}),e.jsx("span",{className:"text-sm mr-1",children:"Ù…Ù† Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©"})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-white/10 rounded-lg text-sm",children:["ğŸ’¡ ",t.analysis_notes]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b flex items-center gap-2",style:{backgroundColor:`${a.navy}10`},children:[e.jsx(i,{className:"w-5 h-5",style:{color:a.navy}}),e.jsx("h2",{className:"font-bold text-gray-800",children:"ÙØ¬ÙˆØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø¨Ø§Ù„Ø¨Ø§Ø­Ø©"})]}),e.jsx("div",{className:"divide-y",children:x.map(s=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl",style:{backgroundColor:`${a.orange}20`},children:u(s.service_type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:b(s.service_type)}),s.csr_dependency&&e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-yellow-100 text-yellow-700",children:"Ù…Ø¹Ù„Ù‚ Ø¹Ù„Ù‰ CSR"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.gap_reason}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-gray-600",children:"ÙŠØ­ØªØ§Ø¬ÙˆÙ†:"}),e.jsx("span",{className:"font-bold text-red-600",children:s.beneficiaries_needing})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-gray-600",children:"Ù…ØªÙˆÙØ±:"}),e.jsx("span",{className:"font-bold text-green-600",children:s.current_capacity})]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-red-100",children:[e.jsx(C,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-gray-600",children:"Ø§Ù„ÙØ¬ÙˆØ©:"}),e.jsx("span",{className:"font-bold text-red-600",children:s.gap_count})]})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„Ø©: ",e.jsx("span",{className:"font-medium",children:s.responsible_agency})]})]})]})},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b flex items-center gap-2",style:{backgroundColor:`${a.teal}10`},children:[e.jsx(k,{className:"w-5 h-5",style:{color:a.teal}}),e.jsx("h2",{className:"font-bold text-gray-800",children:"Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø¥Ù†Ø³Ø§Ù† vs Ø±ØºØ¨Ø§Øª Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©"})]}),e.jsx("div",{className:"p-4",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-right text-sm text-gray-500 border-b",children:[e.jsx("th",{className:"pb-3 font-medium",children:"Ø§Ù„Ø­Ù‚"}),e.jsx("th",{className:"pb-3 font-medium",children:"Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ"}),e.jsx("th",{className:"pb-3 font-medium",children:"ÙŠÙØ¹Ø§Ù…Ù„ ÙƒÙ€"}),e.jsx("th",{className:"pb-3 font-medium",children:"Ø§Ù„ØªØ¨Ø±ÙŠØ±"}),e.jsx("th",{className:"pb-3 font-medium",children:"Ø§Ù„Ø£Ø«Ø± Ø§Ù„ÙØ¹Ù„ÙŠ"})]})}),e.jsx("tbody",{className:"divide-y",children:h.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 font-medium text-gray-800",children:f(s.right_category)}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:"px-2 py-1 text-xs rounded-lg bg-red-100 text-red-700",children:s.current_status})}),e.jsx("td",{className:"py-3",children:s.treated_as==="preference"?e.jsxs("span",{className:"flex items-center gap-1 text-yellow-600",children:[e.jsx(R,{className:"w-4 h-4"}),"Ø±ØºØ¨Ø©"]}):e.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(d,{className:"w-4 h-4"}),"Ø­Ù‚"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:s.agency_justification}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:"text-sm text-red-600 font-medium",children:s.actual_impact})})]},s.id))})]})})]}),e.jsxs("div",{className:"bg-gradient-to-l from-[rgb(20,65,90)] to-[rgb(20,130,135)] rounded-2xl p-6 text-white",children:[e.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"}),"Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/20 rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Ù…Ø¨Ø§Ø¯Ø±Ø© ØªÙ…ÙƒÙŠÙ† (Ø§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ)"}),e.jsxs("ul",{className:"text-sm space-y-1 opacity-90",children:[e.jsx("li",{children:"âœ… Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ù‡Ù†ÙŠ Ø´Ù‡Ø±ÙŠ Ù…Ø®ØªÙ„Ù"}),e.jsx("li",{children:"âœ… Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ"}),e.jsx("li",{children:"âœ… Ø¨ÙŠÙˆØª Ø°ÙˆÙŠ Ø§Ù„Ø¥Ø¹Ø§Ù‚Ø©"}),e.jsx("li",{children:"âœ… Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù…Ù…ØªØ¯Ø©"})]})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Ù…Ø±ÙƒØ² Ø§Ù„ØªØ£Ù‡ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„ (Ø§Ù„Ø¨Ø§Ø­Ø©)"}),e.jsxs("ul",{className:"text-sm space-y-1 opacity-90",children:[e.jsx("li",{children:"âŒ Ù„Ø§ Ø±Ø¹Ø§ÙŠØ© Ù…Ù†Ø²Ù„ÙŠØ©"}),e.jsx("li",{children:"âŒ Ù„Ø§ Ø±Ø¹Ø§ÙŠØ© Ù†Ù‡Ø§Ø±ÙŠØ© Ø¯Ø§Ø®Ù„ÙŠØ©"}),e.jsx("li",{children:"âŒ Ù„Ø§ ØªØ£Ù‡ÙŠÙ„ Ù…Ù‡Ù†ÙŠ"}),e.jsx("li",{children:"âŒ Ù…Ø¹Ù„Ù‚ Ø¹Ù„Ù‰ CSR"})]})]})]})]})]})};export{E as IndependenceTracker};
