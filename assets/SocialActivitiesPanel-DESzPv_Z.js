import{r as x,j as e,I as C,X as k}from"./index-BOMQ6ZnB.js";const S=({onSave:u,onCancel:h})=>{const[s,d]=x.useState({year:new Date().getFullYear(),activityType:"",supervisor:"",executionTimeStart:"",executionTimeEnd:"",targetGroup:"employees",cost:0,location:"",notes:""}),a=n=>{const{name:c,value:i,type:m}=n.target;d(j=>({...j,[c]:m==="number"?Number(i):i}))},b=n=>{n.preventDefault(),u({id:Date.now().toString(),...s})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"الخطة السنوية للأنشطة الثقافية والاجتماعية (نموذج 1)"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"العام"}),e.jsx("input",{type:"number",name:"year",className:"w-full border rounded p-2",value:s.year,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم النشاط"}),e.jsx("input",{type:"text",name:"activityType",className:"w-full border rounded p-2",value:s.activityType,onChange:a,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"المشرف على النشاط"}),e.jsx("input",{type:"text",name:"supervisor",className:"w-full border rounded p-2",value:s.supervisor,onChange:a,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"وقت التنفيذ (من)"}),e.jsx("input",{type:"date",name:"executionTimeStart",className:"w-full border rounded p-2",value:s.executionTimeStart,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"وقت التنفيذ (إلى)"}),e.jsx("input",{type:"date",name:"executionTimeEnd",className:"w-full border rounded p-2",value:s.executionTimeEnd,onChange:a,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الفئة المستهدفة"}),e.jsxs("select",{name:"targetGroup",className:"w-full border rounded p-2",value:s.targetGroup,onChange:a,children:[e.jsx("option",{value:"employees",children:"موظفي المركز"}),e.jsx("option",{value:"beneficiaries",children:"المستفيدين"}),e.jsx("option",{value:"community",children:"المجتمع الخارجي"}),e.jsx("option",{value:"both",children:"مشترك"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"التكلفة المالية (ريال)"}),e.jsx("input",{type:"number",name:"cost",className:"w-full border rounded p-2",value:s.cost,onChange:a})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"مكان التنفيذ"}),e.jsx("input",{type:"text",name:"location",className:"w-full border rounded p-2",value:s.location,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ملاحظات"}),e.jsx("textarea",{name:"notes",className:"w-full border rounded p-2",value:s.notes,onChange:a,rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 border rounded hover:bg-gray-50",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"حفظ الخطة"})]})]})]})})},P=({onSave:u,onCancel:h})=>{var t,g,f;const[s,d]=x.useState({activityName:"",date:"",type:"",supervisor:"",objectives:"",implementationProcedure:"",budget:0,outcomes:"",internalParticipants:[],externalParticipants:[],images:[],notes:""}),[a,b]=x.useState(""),[n,c]=x.useState(""),i=l=>{const{name:r,value:o,type:w}=l.target;d(y=>({...y,[r]:w==="number"?Number(o):o}))},m=l=>{if(l.target.files){const r=Array.from(l.target.files).map(o=>URL.createObjectURL(o));d(o=>({...o,images:[...o.images||[],...r]}))}},j=l=>{d(r=>{var o;return{...r,images:(o=r.images)==null?void 0:o.filter((w,y)=>y!==l)}})},p=()=>{a&&(d(l=>({...l,internalParticipants:[...l.internalParticipants||[],a]})),b(""))},N=()=>{n&&(d(l=>({...l,externalParticipants:[...l.externalParticipants||[],n]})),c(""))},v=l=>{l.preventDefault(),u({id:Date.now().toString(),...s})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"توثيق النشاط (نموذج 2)"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم النشاط"}),e.jsx("input",{type:"text",name:"activityName",className:"w-full border rounded p-2",value:s.activityName,onChange:i,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"نوعه"}),e.jsx("input",{type:"text",name:"type",className:"w-full border rounded p-2",value:s.type,onChange:i,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"التاريخ"}),e.jsx("input",{type:"date",name:"date",className:"w-full border rounded p-2",value:s.date,onChange:i,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"مشرف الوحدة"}),e.jsx("input",{type:"text",name:"supervisor",className:"w-full border rounded p-2",value:s.supervisor,onChange:i,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"أهداف النشاط"}),e.jsx("textarea",{name:"objectives",className:"w-full border rounded p-2",value:s.objectives,onChange:i,rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اجراءات التنفيذ"}),e.jsx("textarea",{name:"implementationProcedure",className:"w-full border rounded p-2",value:s.implementationProcedure,onChange:i,rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الميزانية"}),e.jsx("input",{type:"number",name:"budget",className:"w-full border rounded p-2",value:s.budget,onChange:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"المخرجات"}),e.jsx("textarea",{name:"outcomes",className:"w-full border rounded p-2",value:s.outcomes,onChange:i,rows:1})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border p-3 rounded",children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"المشاركون من الداخل"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{className:"border p-1 w-full text-sm",placeholder:"الاسم",value:a,onChange:l=>b(l.target.value)}),e.jsx("button",{type:"button",onClick:p,className:"bg-blue-100 text-blue-600 px-2 rounded",children:"+"})]}),e.jsx("ul",{className:"text-xs list-disc pr-4 h-24 overflow-y-auto",children:(t=s.internalParticipants)==null?void 0:t.map((l,r)=>e.jsx("li",{children:l},r))})]}),e.jsxs("div",{className:"border p-3 rounded",children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"المشاركون من الخارج"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{className:"border p-1 w-full text-sm",placeholder:"الاسم/الجهة",value:n,onChange:l=>c(l.target.value)}),e.jsx("button",{type:"button",onClick:N,className:"bg-blue-100 text-blue-600 px-2 rounded",children:"+"})]}),e.jsx("ul",{className:"text-xs list-disc pr-4 h-24 overflow-y-auto",children:(g=s.externalParticipants)==null?void 0:g.map((l,r)=>e.jsx("li",{children:l},r))})]})]}),e.jsxs("div",{className:"border p-3 rounded bg-gray-50 border-dashed border-gray-300",children:[e.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"صور من النشاط"]}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:m,className:"mb-2 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:(f=s.images)==null?void 0:f.map((l,r)=>e.jsxs("div",{className:"relative w-16 h-16 border rounded overflow-hidden",children:[e.jsx("img",{src:l,alt:`upload-${r}`,className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>j(r),className:"absolute top-0 right-0 bg-red-500 text-white p-0.5 rounded-bl-md",children:e.jsx(k,{size:12})})]},r))})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 border rounded hover:bg-gray-50",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"حفظ التوثيق"})]})]})]})})},D=({onSave:u,onCancel:h})=>{const[s,d]=x.useState({month:"",activityName:"",date:"",responsiblePerson:"",status:"achieved",observations:"",recommendations:""}),a=n=>{const{name:c,value:i}=n.target;d(m=>({...m,[c]:i}))},b=n=>{n.preventDefault(),u({id:Date.now().toString(),...s})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg mb-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"متابعة قسم الأنشطة (نموذج 3)"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الشهر"}),e.jsx("input",{type:"text",name:"month",className:"w-full border rounded p-2",value:s.month,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"التاريخ"}),e.jsx("input",{type:"date",name:"date",className:"w-full border rounded p-2",value:s.date,onChange:a,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم النشاط"}),e.jsx("input",{type:"text",name:"activityName",className:"w-full border rounded p-2",value:s.activityName,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"المسؤول"}),e.jsx("input",{type:"text",name:"responsiblePerson",className:"w-full border rounded p-2",value:s.responsiblePerson,onChange:a,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الانجاز"}),e.jsxs("select",{name:"status",className:"w-full border rounded p-2",value:s.status,onChange:a,children:[e.jsx("option",{value:"achieved",children:"تم الانجاز"}),e.jsx("option",{value:"not_achieved",children:"لم يتم الانجاز"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الملاحظات"}),e.jsx("textarea",{name:"observations",className:"w-full border rounded p-2",value:s.observations,onChange:a,rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"محلات الصرف/توصيات"}),e.jsx("textarea",{name:"recommendations",className:"w-full border rounded p-2",value:s.recommendations,onChange:a,rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 border rounded hover:bg-gray-50",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"حفظ المتابعة"})]})]})]})})},T=({plans:u,documentations:h,followUps:s,onAddPlan:d,onAddDocumentation:a,onAddFollowUp:b})=>{const[n,c]=x.useState("plans"),[i,m]=x.useState(!1),[j,p]=x.useState(!1),[N,v]=x.useState(!1);return e.jsxs("div",{className:"social-activities-panel",children:[e.jsxs("div",{className:"tabs",children:[e.jsx("button",{className:n==="plans"?"active":"",onClick:()=>c("plans"),children:"الخطط السنوية"}),e.jsx("button",{className:n==="documentation"?"active":"",onClick:()=>c("documentation"),children:"توثيق الأنشطة"}),e.jsx("button",{className:n==="followup"?"active":"",onClick:()=>c("followup"),children:"متابعة الأنشطة"})]}),e.jsxs("div",{className:"tab-content",children:[n==="plans"&&e.jsxs("div",{className:"plans-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"الخطط السنوية (نموذج 1)"}),e.jsx("button",{className:"btn-primary",onClick:()=>m(!0),children:"إضافة خطة جديدة"})]}),e.jsx("div",{className:"plans-list",children:u.length===0?e.jsx("p",{className:"empty-state",children:"لا توجد خطط مضافة"}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"العام"}),e.jsx("th",{children:"اسم النشاط"}),e.jsx("th",{children:"المشرف"}),e.jsx("th",{children:"وقت التنفيذ"}),e.jsx("th",{children:"التكلفة"}),e.jsx("th",{children:"الفئة المستهدفة"})]})}),e.jsx("tbody",{children:u.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.year}),e.jsx("td",{children:t.activityType}),e.jsx("td",{children:t.supervisor}),e.jsx("td",{children:t.executionTimeStart}),e.jsx("td",{children:t.cost||"0"}),e.jsx("td",{children:t.targetGroup})]},t.id))})]})})]}),n==="documentation"&&e.jsxs("div",{className:"documentation-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"توثيق الأنشطة"}),e.jsx("button",{className:"btn-primary",onClick:()=>p(!0),children:"توثيق نشاط جديد"})]}),e.jsx("div",{className:"docs-list",children:h.length===0?e.jsx("p",{className:"empty-state",children:"لا توجد أنشطة موثقة"}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"اسم النشاط"}),e.jsx("th",{children:"التاريخ"}),e.jsx("th",{children:"النوع"}),e.jsx("th",{children:"المشرف"}),e.jsx("th",{children:"عدد المشاركين"})]})}),e.jsx("tbody",{children:h.map(t=>{var g,f;return e.jsxs("tr",{children:[e.jsx("td",{children:t.activityName}),e.jsx("td",{children:t.date}),e.jsx("td",{children:t.type}),e.jsx("td",{children:t.supervisor}),e.jsx("td",{children:(((g=t.internalParticipants)==null?void 0:g.length)||0)+(((f=t.externalParticipants)==null?void 0:f.length)||0)})]},t.id)})})]})})]}),n==="followup"&&e.jsxs("div",{className:"followup-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"متابعة قسم الأنشطة"}),e.jsx("button",{className:"btn-primary",onClick:()=>v(!0),children:"إضافة متابعة"})]}),e.jsx("div",{className:"followup-list",children:s.length===0?e.jsx("p",{className:"empty-state",children:"لا توجد متابعات مسجلة"}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"الشهر"}),e.jsx("th",{children:"اسم النشاط"}),e.jsx("th",{children:"التاريخ"}),e.jsx("th",{children:"المسؤول"}),e.jsx("th",{children:"الانجاز"})]})}),e.jsx("tbody",{children:s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.month}),e.jsx("td",{children:t.activityName}),e.jsx("td",{children:t.date}),e.jsx("td",{children:t.responsiblePerson}),e.jsx("td",{children:t.status==="achieved"?"تم":"لم يتم"})]},t.id))})]})})]})]}),i&&e.jsx(S,{onSave:t=>{d(t),m(!1)},onCancel:()=>m(!1)}),j&&e.jsx(P,{onSave:t=>{a(t),p(!1)},onCancel:()=>p(!1)}),N&&e.jsx(D,{onSave:t=>{b(t),v(!1)},onCancel:()=>v(!1)})]})};export{T as SocialActivitiesPanel};
