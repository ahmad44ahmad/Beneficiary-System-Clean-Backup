import{k as U,r as a,j as e,az as X,p as V,w as le,aN as xe,P as re,y as me,v as ue,c as ne,a as Q,a4 as z,b as J,l as q,s as ge,a0 as B,q as Z,as as he,n as be,ai as pe,b0 as ie,U as je,M as ee,O as ve,d as fe,b1 as Ne,aX as se,b2 as ye,b3 as ae,a6 as Y,b4 as we,b5 as _e,b6 as Se}from"./index-BOMQ6ZnB.js";import{e as A,R as H,Q as ke}from"./empowermentService-CRw_S9mo.js";import{a4 as Ce,a5 as Te}from"./CategoricalChart-CVOu2Sdu.js";import{L as De}from"./LineChart-BCAJLlzb.js";import{C as Me}from"./CartesianGrid-Dh6FfMw5.js";import{X as Ee,Y as Pe}from"./CartesianChart-BCPM_Iof.js";import{L as Ae}from"./Line-OmcAOY_B.js";import"./getRadiusAndStrokeWidthFromDot-DgyDVF4g.js";import"./ErrorBarContext-DeCBPfcE.js";const Ie=({value:i,color:c="emerald"})=>e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-${c}-500 transition-all duration-500`,style:{width:`${Math.min(100,Math.max(0,i))}%`}})}),Fe=({status:i})=>{const c={planned:"bg-gray-100 text-gray-600",in_progress:"bg-blue-100 text-blue-700",achieved:"bg-green-100 text-green-700",partially_achieved:"bg-yellow-100 text-yellow-700",on_hold:"bg-orange-100 text-orange-700",abandoned:"bg-red-100 text-red-700"},t={planned:"Ù…Ø®Ø·Ø·",in_progress:"Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°",achieved:"Ù…ÙØ­Ù‚Ù‚ âœ…",partially_achieved:"Ø¬Ø²Ø¦ÙŠ",on_hold:"Ù…Ø¹Ù„Ù‚",abandoned:"Ù…ØªØ±ÙˆÙƒ"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c[i]||c.planned}`,children:t[i]||i})},Ge=({goal:i,onClick:c})=>{const t=H.find(x=>x.value===i.domain);return e.jsxs("div",{onClick:c,className:"bg-white rounded-xl p-4 shadow-sm border hover:shadow-md hover:border-emerald-300 transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:(t==null?void 0:t.icon)||"ðŸŽ¯"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800",children:i.goal_title}),e.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.label)||i.domain})]})]}),e.jsx(Fe,{status:i.status})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:i.goal_description}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Ø§Ù„ØªÙ‚Ø¯Ù…"}),e.jsxs("span",{className:"font-bold text-emerald-600",children:[i.progress_percentage,"%"]})]}),e.jsx(Ie,{value:i.progress_percentage})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"w-3 h-3"}),i.target_date]}),i.assigned_to&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"w-3 h-3"}),i.assigned_to]})]})]})},Xe=()=>{const i=U(),[c,t]=a.useState(!0),[x,m]=a.useState([]),[h,o]=a.useState("all"),[u,b]=a.useState("all");a.useEffect(()=>{d()},[]);const d=async()=>{t(!0);try{const n=await A.getGoals();m(n)}finally{t(!1)}},g={total:x.length,achieved:x.filter(n=>n.status==="achieved").length,inProgress:x.filter(n=>n.status==="in_progress").length,avgProgress:x.length>0?Math.round(x.reduce((n,y)=>n+y.progress_percentage,0)/x.length):0},j=x.filter(n=>!(h!=="all"&&n.domain!==h||u!=="all"&&n.status!==u));return c?e.jsx(X,{fullScreen:!0,message:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªÙ…ÙƒÙŠÙ†..."}):e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",dir:"rtl",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>i(-1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(V,{className:"w-5 h-5"})}),e.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:e.jsx(le,{className:"w-8 h-8 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Ù…Ø­Ø±Ùƒ Ø§Ù„ØªÙ…ÙƒÙŠÙ†"}),e.jsx("p",{className:"text-gray-500",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ£Ù‡ÙŠÙ„ÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ© (SMART)"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-white border rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4"}),"ØªØ­Ø¯ÙŠØ«"]}),e.jsxs("button",{onClick:()=>i("/empowerment/goal/new"),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 flex items-center gap-2 shadow-md",children:[e.jsx(re,{className:"w-4 h-4"}),"Ù‡Ø¯Ù Ø¬Ø¯ÙŠØ¯"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border-r-4 border-blue-500",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:g.total})]})]})}),e.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border-r-4 border-green-500",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ue,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Ø£Ù‡Ø¯Ø§Ù Ù…ÙØ­Ù‚Ù‚Ø©"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.achieved})]})]})}),e.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border-r-4 border-yellow-500",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(ne,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:g.inProgress})]})]})}),e.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border-r-4 border-emerald-500",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:e.jsx(Q,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚Ø¯Ù…"}),e.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:[g.avgProgress,"%"]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 mb-6 shadow-sm flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>o("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-all ${h==="all"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:"Ø§Ù„ÙƒÙ„"}),H.slice(0,5).map(n=>e.jsxs("button",{onClick:()=>o(n.value),className:`px-3 py-1.5 rounded-lg text-sm transition-all flex items-center gap-1 ${h===n.value?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:[e.jsx("span",{children:n.icon}),n.label]},n.value))]}),e.jsxs("select",{value:u,onChange:n=>b(n.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm",children:[e.jsx("option",{value:"all",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª"}),e.jsx("option",{value:"planned",children:"Ù…Ø®Ø·Ø·"}),e.jsx("option",{value:"in_progress",children:"Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"}),e.jsx("option",{value:"achieved",children:"Ù…ÙØ­Ù‚Ù‚"}),e.jsx("option",{value:"on_hold",children:"Ù…Ø¹Ù„Ù‚"})]})]}),j.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(n=>e.jsx(Ge,{goal:n,onClick:()=>i(`/empowerment/goal/${n.id}`)},n.id))}):e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl",children:[e.jsx(z,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‡Ø¯Ø§Ù Ù…Ø·Ø§Ø¨Ù‚Ø©"}),e.jsx("button",{onClick:()=>i("/empowerment/goal/new"),className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø¯Ù Ø¬Ø¯ÙŠØ¯"})]})]})},Le=[{value:"numeric",label:"Ù‚ÙŠØ§Ø³ Ø±Ù‚Ù…ÙŠ",example:"Ù…Ø³Ø§ÙØ©ØŒ Ø¹Ø¯Ø¯"},{value:"frequency",label:"ØªÙƒØ±Ø§Ø±",example:"Ù…Ø±Ø§Øª/ÙŠÙˆÙ…"},{value:"duration",label:"Ù…Ø¯Ø©",example:"Ø¯Ù‚Ø§Ø¦Ù‚ØŒ Ø³Ø§Ø¹Ø§Øª"},{value:"percentage",label:"Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ©",example:"0-100%"},{value:"milestone",label:"Ø¥Ù†Ø¬Ø§Ø² Ù…Ø­Ø¯Ø¯",example:"Ù†Ø¹Ù…/Ù„Ø§"},{value:"scale",label:"Ù…Ù‚ÙŠØ§Ø³",example:"1-10"}],Je=({beneficiaryId:i})=>{const c=U(),[t,x]=a.useState(1),[m,h]=a.useState(""),[o,u]=a.useState(null),[b,d]=a.useState(""),[g,j]=a.useState(""),[n,y]=a.useState(""),[v,S]=a.useState(""),[k,G]=a.useState(""),[p,I]=a.useState(""),[f,D]=a.useState(""),[w,F]=a.useState(new Date().toISOString().split("T")[0]),[_,M]=a.useState(""),[E,N]=a.useState(""),[C,l]=a.useState(""),[P,T]=a.useState([]),[L,R]=a.useState(!1),[$,O]=a.useState(!1);a.useEffect(()=>{m&&r()},[m]);const r=async()=>{R(!0);const s=await A.getGoalTemplates(m);T(s),R(!1)},de=s=>{if(u(s),d(s.goal_title),j(s.goal_description),y(s.measurement_type||""),S(s.measurement_unit||""),s.typical_duration_weeks){const W=new Date;W.setDate(W.getDate()+s.typical_duration_weeks*7),M(W.toISOString().split("T")[0])}},ce=async()=>{if(!b.trim()){alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‡Ø¯Ù");return}if(!_){alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù");return}O(!0);try{(await A.saveGoal({beneficiary_id:i||"demo-beneficiary",domain:m,goal_title:b,goal_description:g,measurement_type:n||void 0,measurement_unit:v||void 0,baseline_value:k?parseFloat(k):void 0,target_value:p?parseFloat(p):void 0,quality_of_life_dimension:f||void 0,start_date:w,target_date:_,assigned_to:E||void 0,family_involvement:C||void 0,status:"planned",progress_percentage:0})).success?(alert("âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‡Ø¯Ù Ø¨Ù†Ø¬Ø§Ø­"),c("/empowerment")):alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸")}catch(s){console.error(s),alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸")}finally{O(!1)}},oe=()=>e.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:[1,2,3].map(s=>e.jsxs(he.Fragment,{children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ${t>=s?"bg-emerald-600 text-white":"bg-gray-200 text-gray-500"}`,children:t>s?e.jsx(be,{className:"w-5 h-5"}):s}),s<3&&e.jsx(pe,{className:`w-5 h-5 ${t>s?"text-emerald-600":"text-gray-300"}`})]},s))});return e.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-gray-50 min-h-screen",dir:"rtl",children:[e.jsx("div",{className:"bg-gradient-to-l from-emerald-600 via-teal-600 to-cyan-700 rounded-2xl p-6 mb-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t>1?x(t-1):c(-1),className:"p-2 hover:bg-white/10 rounded-lg",children:e.jsx(V,{className:"w-5 h-5"})}),e.jsx(le,{className:"w-10 h-10"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Ø¨Ù†Ø§Ø¡ Ù‡Ø¯Ù SMART"}),e.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Ø£Ù‡Ø¯Ø§Ù Ø°ÙƒÙŠØ©: Ù…Ø­Ø¯Ø¯Ø©ØŒ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù‚ÙŠØ§Ø³ØŒ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ­Ù‚ÙŠÙ‚ØŒ Ø°Ø§Øª ØµÙ„Ø©ØŒ Ù…Ø¤Ø·Ø±Ø© Ø²Ù…Ù†ÙŠØ§Ù‹"})]})]})}),e.jsx(oe,{}),t===1&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-emerald-600"}),"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„ØªØ£Ù‡ÙŠÙ„ÙŠ"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:H.map(s=>e.jsxs("button",{onClick:()=>{h(s.value),x(2)},className:`p-4 rounded-xl border-2 transition-all hover:scale-105 ${m===s.value?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-emerald-300"}`,children:[e.jsx("span",{className:"text-3xl block mb-2",children:s.icon}),e.jsx("span",{className:"font-medium text-gray-700",children:s.label})]},s.value))})]}),t===2&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5 text-blue-600"}),"Ø§Ø®ØªØ± Ù…Ù† Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø£Ùˆ Ø£Ù†Ø´Ø¦ Ù‡Ø¯ÙØ§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹"]}),L?e.jsx("div",{className:"text-center py-8",children:e.jsx(B,{className:"w-6 h-6 animate-spin mx-auto"})}):e.jsx("div",{className:"grid grid-cols-1 gap-3 mb-4",children:P.map(s=>e.jsxs("button",{onClick:()=>{de(s),x(3)},className:`p-4 rounded-xl border-2 text-right transition-all ${(o==null?void 0:o.id)===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[e.jsx("p",{className:"font-bold text-gray-800",children:s.goal_title}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.goal_description}),s.typical_duration_weeks&&e.jsxs("span",{className:"inline-block mt-2 px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:["~",s.typical_duration_weeks," Ø£Ø³Ø¨ÙˆØ¹"]})]},s.id))}),e.jsxs("button",{onClick:()=>x(3),className:"w-full p-4 rounded-xl border-2 border-dashed border-gray-300 text-gray-500 hover:border-emerald-500 hover:text-emerald-600 transition-all",children:[e.jsx("span",{className:"text-xl",children:"+"})," Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø¯Ù Ù…Ø®ØµØµ"]})]})}),t===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù‡Ø¯Ù"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‡Ø¯Ù *"}),e.jsx("input",{type:"text",value:b,onChange:s=>d(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ù…Ø«Ø§Ù„: Ø§Ù„Ù…Ø´ÙŠ Ø¨Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ© Ù„Ù…Ø³Ø§ÙØ© 50 Ù…ØªØ±"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"ÙˆØµÙ Ø§Ù„Ù‡Ø¯Ù"}),e.jsx("textarea",{value:g,onChange:s=>j(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none min-h-[80px] resize-none",placeholder:"ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ Ù„Ù„Ù‡Ø¯Ù ÙˆÙƒÙŠÙÙŠØ© ØªØ­Ù‚ÙŠÙ‚Ù‡..."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Ø§Ù„Ù‚ÙŠØ§Ø³ (M - Measurable)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4",children:Le.map(s=>e.jsxs("button",{onClick:()=>y(s.value),className:`p-3 rounded-xl border text-sm transition-all ${n===s.value?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 hover:border-emerald-300"}`,children:[e.jsx("p",{className:"font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-gray-400",children:s.example})]},s.value))}),n&&n!=="milestone"&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"ÙˆØ­Ø¯Ø© Ø§Ù„Ù‚ÙŠØ§Ø³"}),e.jsx("input",{type:"text",value:v,onChange:s=>S(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ù…ØªØ±ØŒ ÙƒÙ„Ù…Ø©..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©"}),e.jsx("input",{type:"number",value:k,onChange:s=>G(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©"}),e.jsx("input",{type:"number",value:p,onChange:s=>I(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-blue-500"}),"Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø²Ù…Ù†ÙŠ (T - Time-bound)"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©"}),e.jsx("input",{type:"date",value:w,onChange:s=>F(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù *"}),e.jsx("input",{type:"date",value:_,onChange:s=>M(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-600 text-sm mb-1 flex items-center gap-1",children:[e.jsx(q,{className:"w-4 h-4"})," Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„"]}),e.jsx("input",{type:"text",value:E,onChange:s=>N(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-400 outline-none",placeholder:"Ø§Ø³Ù… Ø§Ù„Ø£Ø®ØµØ§Ø¦ÙŠ/Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ø¨ÙØ¹Ø¯ Ø¬ÙˆØ¯Ø© Ø§Ù„Ø­ÙŠØ§Ø©"}),e.jsxs("select",{value:f,onChange:s=>D(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-400 outline-none bg-white",children:[e.jsx("option",{value:"",children:"-- Ø§Ø®ØªØ± --"}),ke.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø£Ø³Ø±Ø©"}),e.jsx("textarea",{value:C,onChange:s=>l(s.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-400 outline-none min-h-[60px] resize-none",placeholder:"ÙƒÙŠÙ Ø³ØªØ´Ø§Ø±Ùƒ Ø§Ù„Ø£Ø³Ø±Ø© ÙÙŠ ØªØ­Ù‚ÙŠÙ‚ Ù‡Ø°Ø§ Ø§Ù„Ù‡Ø¯ÙØŸ"})]})]}),e.jsx("button",{onClick:ce,disabled:$,className:"w-full bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 text-white font-bold py-4 px-6 rounded-xl shadow-md flex items-center justify-center gap-3",children:$?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-5 h-5 animate-spin"})," Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:20})," Ø­ÙØ¸ Ø§Ù„Ù‡Ø¯Ù"]})})]})]})},Re=[{id:"1",goal_id:"1",recorded_value:15,previous_value:10,progress_note:"ØªØ­Ø³Ù† Ù…Ù„Ø­ÙˆØ¸ ÙÙŠ Ø§Ù„ØªÙˆØ§Ø²Ù†",session_type:"individual",session_duration_minutes:45,recorded_by:"Ø£. Ø£Ø­Ù…Ø¯",recorded_at:"2025-10-15T10:00:00"},{id:"2",goal_id:"1",recorded_value:22,previous_value:15,progress_note:"Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ø´ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø´Ø§ÙŠØ©",session_type:"individual",session_duration_minutes:60,recorded_by:"Ø£. Ø£Ø­Ù…Ø¯",recorded_at:"2025-10-22T10:00:00"},{id:"3",goal_id:"1",recorded_value:28,previous_value:22,progress_note:"Ù…Ø´ÙŠ Ø¨Ø¯ÙˆÙ† Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù…Ø³Ø§ÙØ§Øª Ù‚ØµÙŠØ±Ø©",session_type:"individual",session_duration_minutes:50,beneficiary_feedback:"Ø£Ø´Ø¹Ø± Ø¨ØªØ­Ø³Ù† ÙƒØ¨ÙŠØ±",recorded_by:"Ø£. Ø£Ø­Ù…Ø¯",recorded_at:"2025-11-01T10:00:00"},{id:"4",goal_id:"1",recorded_value:35,previous_value:28,progress_note:"Ø§Ø³ØªÙ‚Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ù…Ø´ÙŠ",session_type:"individual",session_duration_minutes:55,recorded_by:"Ø£. Ø£Ø­Ù…Ø¯",recorded_at:"2025-11-15T10:00:00"}],te=[{value:"individual",label:"ÙØ±Ø¯ÙŠ",icon:q},{value:"group",label:"Ø¬Ù…Ø§Ø¹ÙŠ",icon:je},{value:"home",label:"Ù…Ù†Ø²Ù„ÙŠ",icon:J}],Ze=()=>{var C;const i=U(),{goalId:c}=ie(),[t,x]=a.useState(null),[m,h]=a.useState([]),[o,u]=a.useState(!0),[b,d]=a.useState(!1),[g,j]=a.useState(!1),[n,y]=a.useState(""),[v,S]=a.useState(""),[k,G]=a.useState("individual"),[p,I]=a.useState("45"),[f,D]=a.useState(""),[w,F]=a.useState("");a.useEffect(()=>{_()},[c]);const _=async()=>{u(!0);try{const l=await A.getGoals(),P=l.find(T=>T.id===c)||l[0];x(P),h(Re)}finally{u(!1)}},M=async()=>{if(!n||!w.trim()){alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø³Ø¬Ù„Ø© ÙˆØ§Ø³Ù… Ø§Ù„Ù…Ø³Ø¬Ù„");return}j(!0);try{await A.logProgress({goal_id:t==null?void 0:t.id,recorded_value:parseFloat(n),previous_value:t==null?void 0:t.current_value,progress_note:v,session_type:k,session_duration_minutes:parseInt(p),beneficiary_feedback:f||void 0,recorded_by:w}),alert("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªÙ‚Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­"),d(!1),y(""),S(""),D(""),_()}finally{j(!1)}},E=m.map(l=>({date:new Date(l.recorded_at).toLocaleDateString("ar-SA",{month:"short",day:"numeric"}),value:l.recorded_value}));if(o)return e.jsx(X,{fullScreen:!0,message:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„ØªÙ‚Ø¯Ù…..."});if(!t)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("p",{className:"text-gray-500",children:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¯Ù"})});const N=H.find(l=>l.value===t.domain);return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",dir:"rtl",children:[e.jsxs("div",{className:"bg-gradient-to-l from-teal-600 via-cyan-600 to-blue-700 rounded-2xl p-6 mb-6 text-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>i("/empowerment"),className:"p-2 hover:bg-white/10 rounded-lg",children:e.jsx(V,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-3xl",children:(N==null?void 0:N.icon)||"ðŸŽ¯"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:t.goal_title}),e.jsx("p",{className:"text-white/80 text-sm",children:N==null?void 0:N.label})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.baseline_value," ",t.measurement_unit]})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-3 text-center border-2 border-white/30",children:[e.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.current_value||((C=m[m.length-1])==null?void 0:C.recorded_value)||t.baseline_value," ",t.measurement_unit]})]}),e.jsxs("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Ø§Ù„Ù‡Ø¯Ù"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.target_value," ",t.measurement_unit]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²"}),e.jsxs("span",{className:"font-bold",children:[t.progress_percentage,"%"]})]}),e.jsx("div",{className:"h-3 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all duration-500",style:{width:`${t.progress_percentage}%`}})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-teal-600"}),"Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ‚Ø¯Ù…"]}),e.jsx(Ce,{width:"100%",height:200,children:e.jsxs(De,{data:E,children:[e.jsx(Me,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),e.jsx(Ee,{dataKey:"date",tick:{fontSize:12}}),e.jsx(Pe,{domain:[0,(t.target_value||100)*1.1],tick:{fontSize:12}}),e.jsx(Te,{}),e.jsx(Ae,{type:"monotone",dataKey:"value",stroke:"#0891B2",strokeWidth:3,dot:{fill:"#0891B2",r:5},name:"Ø§Ù„Ù‚ÙŠÙ…Ø©"})]})})]}),!b&&e.jsxs("button",{onClick:()=>d(!0),className:"w-full mb-6 p-4 bg-teal-600 text-white rounded-xl hover:bg-teal-700 flex items-center justify-center gap-2 shadow-md",children:[e.jsx(re,{className:"w-5 h-5"}),"ØªØ³Ø¬ÙŠÙ„ Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©"]}),b&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"ØªØ³Ø¬ÙŠÙ„ ØªÙ‚Ø¯Ù… Ø¬Ø¯ÙŠØ¯"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© *"}),e.jsx("input",{type:"number",value:n,onChange:l=>y(l.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",placeholder:`Ø¨Ø§Ù„Ù€ ${t.measurement_unit}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ù…Ø¯Ø© Ø§Ù„Ø¬Ù„Ø³Ø© (Ø¯Ù‚ÙŠÙ‚Ø©)"}),e.jsx("input",{type:"number",value:p,onChange:l=>I(l.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù„Ø³Ø©"}),e.jsx("div",{className:"flex gap-2",children:te.map(l=>e.jsxs("button",{onClick:()=>G(l.value),className:`flex-1 p-3 rounded-xl flex items-center justify-center gap-2 transition-all ${k===l.value?"bg-teal-100 text-teal-700 border-2 border-teal-500":"bg-gray-100 text-gray-600"}`,children:[e.jsx(l.icon,{className:"w-4 h-4"}),l.label]},l.value))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø£Ø®ØµØ§Ø¦ÙŠ"}),e.jsx("textarea",{value:v,onChange:l=>S(l.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none min-h-[80px] resize-none",placeholder:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø¬Ù„Ø³Ø© ÙˆØ§Ù„ØªÙ‚Ø¯Ù…..."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-600 text-sm mb-1 flex items-center gap-1",children:[e.jsx(ee,{className:"w-4 h-4"}),"ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ù…Ø³ØªÙÙŠØ¯"]}),e.jsx("input",{type:"text",value:f,onChange:l=>D(l.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Ù…Ø§ Ù‚Ø§Ù„Ù‡ Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ Ø¹Ù† Ø§Ù„ØªØ¬Ø±Ø¨Ø©..."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ø¬Ù„ *"}),e.jsx("input",{type:"text",value:w,onChange:l=>F(l.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Ø§Ø³Ù…Ùƒ"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:M,disabled:g,className:"flex-1 bg-teal-600 text-white py-3 rounded-xl hover:bg-teal-700 flex items-center justify-center gap-2",children:[g?e.jsx(B,{className:"w-5 h-5 animate-spin"}):e.jsx(Z,{className:"w-5 h-5"}),"Ø­ÙØ¸"]}),e.jsx("button",{onClick:()=>d(!1),className:"px-6 py-3 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200",children:"Ø¥Ù„ØºØ§Ø¡"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b bg-gray-50",children:e.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-gray-500"}),"Ø³Ø¬Ù„ Ø§Ù„Ø¬Ù„Ø³Ø§Øª (",m.length,")"]})}),e.jsx("div",{className:"divide-y",children:m.map((l,P)=>{var T;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${l.recorded_value>(l.previous_value||0)?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:l.recorded_value>(l.previous_value||0)?e.jsx(Q,{className:"w-5 h-5"}):e.jsx(ve,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-800",children:[l.recorded_value," ",t.measurement_unit,e.jsxs("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(â†‘ ",(l.recorded_value-(l.previous_value||0)).toFixed(1),")"]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.recorded_at).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:((T=te.find(L=>L.value===l.session_type))==null?void 0:T.label)||l.session_type})]}),l.progress_note&&e.jsx("p",{className:"text-gray-600 text-sm bg-gray-50 p-2 rounded-lg",children:l.progress_note}),l.beneficiary_feedback&&e.jsxs("p",{className:"text-teal-600 text-sm mt-2 flex items-center gap-1",children:[e.jsx(ee,{className:"w-4 h-4"}),'"',l.beneficiary_feedback,'"']}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Ø³ÙØ¬Ù„ Ø¨ÙˆØ§Ø³Ø·Ø©: ",l.recorded_by]})]},l.id)})})]})]})},$e=["Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©","Ø§Ù„Ù…Ø´ÙŠ","Ø§Ù„Ø±Ø³Ù…","Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰","Ø§Ù„Ø­Ø±Ù Ø§Ù„ÙŠØ¯ÙˆÙŠØ©","Ø§Ù„Ø¨Ø³ØªÙ†Ø©","Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ØªÙ„ÙØ§Ø²","Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡","Ø§Ù„ØµÙ„Ø§Ø©","Ø§Ù„ØªØ£Ù…Ù„"],Oe=["Ø§Ù„ØªÙ†ÙØ³ Ø§Ù„Ø¹Ù…ÙŠÙ‚","Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù‚Ø±Ø¢Ù†","Ø§Ù„Ù…Ø´ÙŠ Ø§Ù„Ù‡Ø§Ø¯Ø¦","Ø§Ù„ØªØ­Ø¯Ø« Ù…Ø¹ Ø´Ø®Øµ Ù…Ù‚Ø±Ø¨","Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„Ù‡Ø§Ø¯Ø¦Ø©","Ø§Ù„Ø¹Ø²Ù„Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ©","Ø§Ù„ØªØ¯Ù„ÙŠÙƒ"],ze=["Ø§Ù„Ø«Ù†Ø§Ø¡ Ø§Ù„Ù„ÙØ¸ÙŠ","Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„ØµØºÙŠØ±Ø©","Ø§Ù„Ù†Ù‚Ø§Ø·/Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²","Ø§Ù„ØªÙ‚Ø¯ÙŠØ± Ø£Ù…Ø§Ù… Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†","Ø§Ù„Ø®Ø±ÙˆØ¬ ÙÙŠ Ù†Ø²Ù‡Ø©","Ù…ÙƒØ§Ù„Ù…Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©"],K=({value:i,onChange:c,suggestions:t,label:x,icon:m})=>{const[h,o]=a.useState(""),u=d=>{d&&!i.includes(d)&&c([...i,d]),o("")},b=d=>{c(i.filter(g=>g!==d))};return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-700 font-semibold mb-2 flex items-center gap-2",children:[m,x]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:i.map(d=>e.jsxs("span",{className:"px-3 py-1 bg-pink-100 text-pink-700 rounded-full text-sm flex items-center gap-1",children:[d,e.jsx("button",{onClick:()=>b(d),className:"text-pink-500 hover:text-pink-700",children:"Ã—"})]},d))}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.filter(d=>!i.includes(d)).slice(0,6).map(d=>e.jsxs("button",{onClick:()=>u(d),className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-sm hover:bg-pink-100 hover:text-pink-700 transition-colors",children:["+ ",d]},d))}),e.jsx("input",{type:"text",value:h,onChange:d=>o(d.target.value),onKeyPress:d=>d.key==="Enter"&&(d.preventDefault(),u(h)),placeholder:"Ø£Ø¶Ù Ø®ÙŠØ§Ø± Ø¢Ø®Ø±...",className:"mt-2 w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-pink-500 outline-none text-sm"})]})},es=()=>{const i=U(),{beneficiaryId:c}=ie(),[t,x]=a.useState(!0),[m,h]=a.useState(!1),[o,u]=a.useState(!1),[b,d]=a.useState(""),[g,j]=a.useState(""),[n,y]=a.useState(""),[v,S]=a.useState([]),[k,G]=a.useState([]),[p,I]=a.useState([]),[f,D]=a.useState([]),[w,F]=a.useState(""),[_,M]=a.useState(""),[E,N]=a.useState(""),[C,l]=a.useState("06:30"),[P,T]=a.useState("21:00"),[L,R]=a.useState([]);a.useEffect(()=>{$()},[c]);const $=async()=>{x(!0);try{const r=c?await A.getPreferences(c):null;r&&(d(r.preferred_name||""),j(r.preferred_title||""),y(r.communication_style||""),S(r.preferred_activities||[]),G(r.hobbies||[]),I(r.calming_strategies||[]),D(r.motivators||[]),F(r.what_makes_me_happy||""),M(r.what_makes_me_upset||""),N(r.my_dreams||""),R(r.favorite_foods||[]))}finally{x(!1),u(!c)}},O=async()=>{h(!0);try{await A.savePreferences({beneficiary_id:c||"demo-beneficiary",preferred_name:b,preferred_title:g,communication_style:n,preferred_activities:v,hobbies:k,calming_strategies:p,motivators:f,what_makes_me_happy:w,what_makes_me_upset:_,my_dreams:E,favorite_foods:L,wake_up_time:C,sleep_time:P}),alert("âœ… ØªÙ… Ø­ÙØ¸ Ù…Ù„Ù Ø§Ù„ÙƒØ±Ø§Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­"),u(!1)}finally{h(!1)}};return t?e.jsx(X,{fullScreen:!0,message:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù Ø§Ù„ÙƒØ±Ø§Ù…Ø©..."}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-white p-6",dir:"rtl",children:[e.jsx("div",{className:"bg-gradient-to-l from-pink-500 via-rose-500 to-red-500 rounded-2xl p-6 mb-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>i(-1),className:"p-2 hover:bg-white/10 rounded-lg",children:e.jsx(V,{className:"w-5 h-5"})}),e.jsx(fe,{className:"w-10 h-10"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Ù…Ù„Ù Ø§Ù„ÙƒØ±Ø§Ù…Ø©"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª"})]})]}),o?e.jsxs("button",{onClick:O,disabled:m,className:"px-4 py-2 bg-white text-pink-600 rounded-lg hover:bg-pink-50 flex items-center gap-2",children:[m?e.jsx(B,{className:"w-4 h-4 animate-spin"}):e.jsx(Z,{className:"w-4 h-4"}),"Ø­ÙØ¸"]}):e.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-white/20 rounded-lg hover:bg-white/30 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),"ØªØ¹Ø¯ÙŠÙ„"]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-pink-500"}),"Ù‡ÙˆÙŠØªÙŠ"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…ÙØ¶Ù„"}),e.jsx("input",{type:"text",value:b,onChange:r=>d(r.target.value),disabled:!o,className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 outline-none disabled:bg-gray-50",placeholder:"ÙƒÙŠÙ ØªØ­Ø¨ Ø£Ù† ØªÙÙ†Ø§Ø¯Ù‰ØŸ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ø§Ù„Ù„Ù‚Ø¨ Ø§Ù„Ù…ÙØ¶Ù„"}),e.jsx("input",{type:"text",value:g,onChange:r=>j(r.target.value),disabled:!o,className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 outline-none disabled:bg-gray-50",placeholder:"Ø£Ø¨Ùˆ... / Ø£Ù…... / Ø£Ø³ØªØ§Ø°..."})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…ÙØ¶Ù„"}),e.jsx("textarea",{value:n,onChange:r=>y(r.target.value),disabled:!o,className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 outline-none disabled:bg-gray-50 min-h-[60px] resize-none",placeholder:"ÙƒÙŠÙ ØªÙØ¶Ù„ Ø£Ù† ÙŠØªØ­Ø¯Ø« Ù…Ø¹Ùƒ Ø§Ù„Ø¢Ø®Ø±ÙˆÙ†ØŸ"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-yellow-500"}),"Ø±ÙˆØªÙŠÙ†ÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠ"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-600 text-sm mb-1 flex items-center gap-1",children:[e.jsx(se,{className:"w-4 h-4 text-yellow-500"}),"ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸"]}),e.jsx("input",{type:"time",value:C,onChange:r=>l(r.target.value),disabled:!o,className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 outline-none disabled:bg-gray-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-600 text-sm mb-1 flex items-center gap-1",children:[e.jsx(ye,{className:"w-4 h-4 text-indigo-500"}),"ÙˆÙ‚Øª Ø§Ù„Ù†ÙˆÙ…"]}),e.jsx("input",{type:"time",value:P,onChange:r=>T(r.target.value),disabled:!o,className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 outline-none disabled:bg-gray-50"})]})]})]}),o&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[e.jsx(K,{value:v,onChange:S,suggestions:$e,label:"Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©",icon:e.jsx(z,{className:"w-5 h-5 text-purple-500"})}),e.jsx(K,{value:p,onChange:I,suggestions:Oe,label:"Ù…Ø§ ÙŠØ³Ø§Ø¹Ø¯Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¯ÙˆØ¡",icon:e.jsx(ae,{className:"w-5 h-5 text-teal-500"})}),e.jsx(K,{value:f,onChange:D,suggestions:ze,label:"Ù…Ø§ ÙŠØ­ÙØ²Ù†ÙŠ",icon:e.jsx(Y,{className:"w-5 h-5 text-yellow-500"})})]}),!o&&(v.length>0||p.length>0||f.length>0)&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[v.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-gray-600 text-sm mb-2 flex items-center gap-1",children:[e.jsx(z,{className:"w-4 h-4"})," Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(r=>e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:r},r))})]}),p.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-gray-600 text-sm mb-2 flex items-center gap-1",children:[e.jsx(ae,{className:"w-4 h-4"})," Ù…Ø§ ÙŠØ³Ø§Ø¹Ø¯Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¯ÙˆØ¡"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(r=>e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm",children:r},r))})]}),f.length>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600 text-sm mb-2 flex items-center gap-1",children:[e.jsx(Y,{className:"w-4 h-4"})," Ù…Ø§ ÙŠØ­ÙØ²Ù†ÙŠ"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(r=>e.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:r},r))})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5 text-blue-500"}),"Ù…Ø§ ÙŠÙ‡Ù… Ù…Ø¹Ø±ÙØªÙ‡ Ø¹Ù†ÙŠ"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-600 text-sm mb-1 flex items-center gap-1",children:[e.jsx(_e,{className:"w-4 h-4 text-green-500"}),"Ù…Ø§ ÙŠØ³Ø¹Ø¯Ù†ÙŠ"]}),e.jsx("textarea",{value:w,onChange:r=>F(r.target.value),disabled:!o,className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 outline-none disabled:bg-gray-50 min-h-[80px] resize-none",placeholder:"Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„ØªÙŠ ØªØ¬Ù„Ø¨ Ù„ÙŠ Ø§Ù„ÙØ±Ø­..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-600 text-sm mb-1 flex items-center gap-1",children:[e.jsx(Se,{className:"w-4 h-4 text-red-500"}),"Ù…Ø§ ÙŠØ²Ø¹Ø¬Ù†ÙŠ"]}),e.jsx("textarea",{value:_,onChange:r=>M(r.target.value),disabled:!o,className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 outline-none disabled:bg-gray-50 min-h-[80px] resize-none",placeholder:"Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„ØªÙŠ ÙŠØ¬Ø¨ ØªØ¬Ù†Ø¨Ù‡Ø§..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-600 text-sm mb-1 flex items-center gap-1",children:[e.jsx(Y,{className:"w-4 h-4 text-yellow-500"}),"Ø£Ø­Ù„Ø§Ù…ÙŠ ÙˆØªØ·Ù„Ø¹Ø§ØªÙŠ"]}),e.jsx("textarea",{value:E,onChange:r=>N(r.target.value),disabled:!o,className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 outline-none disabled:bg-gray-50 min-h-[80px] resize-none",placeholder:"Ù…Ø§ Ø£ØªÙ…Ù†Ù‰ ØªØ­Ù‚ÙŠÙ‚Ù‡..."})]})]})]})]})};export{es as DignityFile,Xe as EmpowermentDashboard,Ze as GoalProgressTracker,Je as SmartGoalBuilder};
