import{r as a,j as e,D as x,b7 as I,T as y,bJ as T,bK as R,as as F,R as P,A as V,bF as D,d as G,K as j,c as K,aZ as O,N as Y,a1 as _,n as N}from"./index-BOMQ6ZnB.js";const z=[{id:"1",type:"vitals",severity:"critical",title:"ارتفاع حاد في الحرارة",message:"درجة الحرارة 39.5°C - تجاوز الحد الأعلى",beneficiaryName:"محمد العمري",beneficiaryId:"B001",location:"غرفة 101",timestamp:"10:45",acknowledged:!1,suggestedAction:"قياس العلامات الحيوية فوراً وإبلاغ الطبيب"},{id:"2",type:"fall",severity:"high",title:"خطر سقوط مرتفع",message:"درجة خطر السقوط 52/60",beneficiaryName:"فاطمة سعيد",beneficiaryId:"B002",location:"غرفة 102",timestamp:"10:30",acknowledged:!1,suggestedAction:"تفعيل بروتوكول منع السقوط والمراقبة المستمرة"},{id:"3",type:"medication",severity:"high",title:"تأخر في إعطاء الدواء",message:"دواء الأنسولين متأخر 45 دقيقة",beneficiaryName:"خالد الدوسري",beneficiaryId:"B003",location:"غرفة 107",timestamp:"10:15",acknowledged:!0,acknowledgedBy:"نايف الغامدي",suggestedAction:"إعطاء الدواء فوراً مع قياس السكر"},{id:"4",type:"behavior",severity:"medium",title:"تغير في السلوك",message:"لوحظ انعزال وقلة تفاعل",beneficiaryName:"نورة محمد",beneficiaryId:"B004",location:"غرفة 104",timestamp:"09:45",acknowledged:!1,suggestedAction:"تقييم نفسي واجتماعي"},{id:"5",type:"infection",severity:"critical",title:"اشتباه عدوى تنفسية",message:"أعراض: سعال، حرارة، ضيق تنفس",beneficiaryName:"سعود العتيبي",beneficiaryId:"B005",location:"غرفة 105",timestamp:"09:30",acknowledged:!1,suggestedAction:"عزل فوري وإبلاغ فريق IPC"}],i={critical:{color:"red",bgColor:"bg-red-500/20",borderColor:"border-red-500/50",textColor:"text-red-400",label:"حرج"},high:{color:"orange",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/50",textColor:"text-orange-400",label:"مرتفع"},medium:{color:"yellow",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-500/50",textColor:"text-yellow-400",label:"متوسط"},low:{color:"blue",bgColor:"bg-blue-500/20",borderColor:"border-blue-500/50",textColor:"text-blue-400",label:"منخفض"}},m={vitals:{icon:G,label:"علامات حيوية"},medication:{icon:D,label:"أدوية"},fall:{icon:y,label:"سقوط"},behavior:{icon:V,label:"سلوك"},infection:{icon:P,label:"عدوى"}},J=()=>{const[n,h]=a.useState(z),[w,b]=a.useState(null),[o,v]=a.useState("all"),[r,C]=a.useState("all"),[c,k]=a.useState(!0),[A,g]=a.useState(""),u=n.filter(t=>{const l=o==="all"||t.severity===o,s=r==="all"||t.type===r;return l&&s}),S=t=>{h(l=>l.map(s=>s.id===t?{...s,acknowledged:!0,acknowledgedBy:"المستخدم الحالي"}:s))},$=t=>{h(l=>l.filter(s=>s.id!==t)),b(null),g("")},p=n.filter(t=>!t.acknowledged).length,f=n.filter(t=>t.severity==="critical"&&!t.acknowledged).length;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-6",dir:"rtl",children:[e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center shadow-lg relative",children:[e.jsx(I,{className:"w-7 h-7 text-white"}),p>0&&e.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 rounded-full flex items-center justify-center text-xs font-bold animate-pulse",children:p})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"لوحة التنبيهات الذكية"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"مركز إدارة التنبيهات والاستجابة"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[f>0&&e.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl px-4 py-2 flex items-center gap-2 animate-pulse",children:[e.jsx(y,{className:"w-5 h-5 text-red-400"}),e.jsxs("span",{className:"text-red-400 font-medium",children:[f," تنبيهات حرجة"]})]}),e.jsx("button",{onClick:()=>k(!c),className:`p-3 rounded-xl transition-colors ${c?"bg-blue-500/20 text-blue-400":"bg-slate-700 text-slate-500"}`,children:c?e.jsx(T,{className:"w-5 h-5"}):e.jsx(R,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[e.jsx("div",{className:"flex items-center gap-2 bg-slate-800 rounded-xl p-1",children:["all","critical","high","medium","low"].map(t=>e.jsx("button",{onClick:()=>v(t),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${o===t?t==="all"?"bg-slate-600 text-white":`${i[t].bgColor} ${i[t].textColor}`:"text-slate-400 hover:text-white"}`,children:t==="all"?"الكل":i[t].label},t))}),e.jsx("div",{className:"flex items-center gap-2 bg-slate-800 rounded-xl p-1",children:["all","vitals","medication","fall","behavior","infection"].map(t=>e.jsxs("button",{onClick:()=>C(t),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-1 ${r===t?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:[t!=="all"&&F.createElement(m[t].icon,{className:"w-3 h-3"}),t==="all"?"جميع الأنواع":m[t].label]},t))})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(j,{children:u.map((t,l)=>{const s=i[t.severity],E=m[t.type],d=w===t.id;return e.jsxs(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:l*.05},className:`rounded-2xl border-2 ${s.borderColor} ${s.bgColor} overflow-hidden ${t.severity==="critical"&&!t.acknowledged?"animate-pulse":""}`,children:[e.jsx("div",{className:"p-4 cursor-pointer",onClick:()=>b(d?null:t.id),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${s.bgColor} border ${s.borderColor} flex items-center justify-center`,children:e.jsx(E.icon,{className:`w-6 h-6 ${s.textColor}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-white",children:t.title}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${s.bgColor} ${s.textColor}`,children:s.label}),t.acknowledged&&e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-green-500/20 text-green-400",children:"تم الاطلاع"})]}),e.jsx("p",{className:"text-slate-300 text-sm mb-2",children:t.message}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[e.jsx("span",{children:t.beneficiaryName}),e.jsx("span",{children:"•"}),e.jsx("span",{children:t.location}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"}),t.timestamp]})]})]})]}),e.jsx("button",{className:"p-2 hover:bg-slate-700/50 rounded-lg transition-colors",children:d?e.jsx(O,{className:"w-5 h-5"}):e.jsx(Y,{className:"w-5 h-5"})})]})}),e.jsx(j,{children:d&&e.jsx(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700",children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"الإجراء المقترح:"}),e.jsx("p",{className:"text-white font-medium",children:t.suggestedAction})]}),e.jsxs("div",{className:"flex gap-3",children:[!t.acknowledged&&e.jsxs("button",{onClick:()=>S(t.id),className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[e.jsx(_,{className:"w-5 h-5"}),"تم الاطلاع"]}),e.jsxs("button",{onClick:()=>$(t.id),className:"flex-1 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[e.jsx(N,{className:"w-5 h-5"}),"تم الحل"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-slate-400 text-sm mb-2 block",children:"ملاحظات الحل:"}),e.jsx("textarea",{value:A,onChange:B=>g(B.target.value),placeholder:"أضف ملاحظات حول الإجراء المتخذ...",className:"w-full bg-slate-800 border border-slate-700 rounded-xl p-3 text-white placeholder-slate-500 resize-none h-20 focus:outline-none focus:border-blue-500"})]})]})})})]},t.id)})})}),u.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(N,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"لا توجد تنبيهات"}),e.jsx("p",{className:"text-slate-400",children:"جميع الأمور تحت السيطرة"})]})]})};export{J as SmartAlertsPanel,J as default};
