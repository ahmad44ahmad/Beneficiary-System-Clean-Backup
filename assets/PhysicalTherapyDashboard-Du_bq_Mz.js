import{r as u,j as e,C as m,ao as C,B as p,P as T,q as k,A,aF as S,bP as P}from"./index-BOMQ6ZnB.js";const D=({initialData:o,onSubmit:x})=>{var h,g,j,v,N,b,y;const[a,l]=u.useState(o||{alignment:{headAndNeck:"Normal",shoulders:"Level",spine:"Normal",pelvis:"Level",knees:"Normal",feet:"Normal"},romChecks:[],muscleTone:{upperExtremities:0,lowerExtremities:0},motorFunctions:{rolling:"Independent",sitting:"Independent",crawling:"Independent",standing:"Independent",walking:"Independent",running:"Normal",jumping:"Normal"},goals:[]}),n=(s,r)=>{l(d=>({...d,alignment:{...d.alignment,[s]:r}}))},t=(s,r)=>{l(d=>({...d,motorFunctions:{...d.motorFunctions,[s]:r}}))},i=()=>{const s=prompt("Enter new goal:");s&&l(r=>({...r,goals:[...r.goals||[],s]}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{title:"Structural Alignment (Skeletal)",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(c,{label:"Head & Neck",value:(h=a.alignment)==null?void 0:h.headAndNeck,options:["Normal","Tilted","Rotated"],onChange:s=>n("headAndNeck",s)}),e.jsx(c,{label:"Spine",value:(g=a.alignment)==null?void 0:g.spine,options:["Normal","Scoliosis","Kyphosis","Lordosis"],onChange:s=>n("spine",s)}),e.jsx(c,{label:"Shoulders",value:(j=a.alignment)==null?void 0:j.shoulders,options:["Level","Uneven","Protracted"],onChange:s=>n("shoulders",s)}),e.jsx(c,{label:"Pelvis",value:(v=a.alignment)==null?void 0:v.pelvis,options:["Level","Tilted","Rotated"],onChange:s=>n("pelvis",s)}),e.jsx(c,{label:"Knees",value:(N=a.alignment)==null?void 0:N.knees,options:["Normal","Valgus","Varus","Hyperextension"],onChange:s=>n("knees",s)}),e.jsx(c,{label:"Feet",value:(b=a.alignment)==null?void 0:b.feet,options:["Normal","Flat","Club"],onChange:s=>n("feet",s)})]})}),e.jsx(m,{title:"Gross Motor Function",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.keys(a.motorFunctions||{}).map(s=>e.jsx(c,{label:s.charAt(0).toUpperCase()+s.slice(1),value:a.motorFunctions[s],options:["Independent","Assist","Dependent","Normal","Impaired","Unable"],onChange:r=>t(s,r)},s))})}),e.jsx(m,{title:"Treatment Plan",children:e.jsxs("div",{className:"space-y-2",children:[(y=a.goals)==null?void 0:y.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("span",{children:[r+1,". ",s]}),e.jsx("button",{onClick:()=>l(d=>{var f;return{...d,goals:(f=d.goals)==null?void 0:f.filter((F,w)=>w!==r)}}),className:"text-red-500 hover:text-red-700",children:e.jsx(C,{size:16})})]},r)),e.jsxs(p,{onClick:i,variant:"outline",size:"sm",className:"w-full mt-2",children:[e.jsx(T,{size:16,className:"mr-2"})," Add Treatment Goal"]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(p,{onClick:()=>x(a),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," Save Assessment"]})})]})},c=({label:o,value:x,options:a,onChange:l})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:o}),e.jsx("select",{value:x,onChange:n=>l(n.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border",children:a.map(n=>e.jsx("option",{value:n,children:n},n))})]}),I=({notes:o,onAddNote:x})=>{const[a,l]=u.useState({sessionType:"Individual",response:"Cooperative",activities:[]}),n=()=>{a.notes&&(x({id:crypto.randomUUID(),date:new Date().toISOString(),therapistName:"Current User",...a}),l({sessionType:"Individual",response:"Cooperative",activities:[],notes:""}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{title:"New Progress Note",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Session Type"}),e.jsxs("select",{value:a.sessionType,onChange:t=>l(i=>({...i,sessionType:t.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2",children:[e.jsx("option",{value:"Individual",children:"Individual"}),e.jsx("option",{value:"Group",children:"Group"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Patient Response"}),e.jsxs("select",{value:a.response,onChange:t=>l(i=>({...i,response:t.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2",children:[e.jsx("option",{value:"Cooperative",children:"Cooperative"}),e.jsx("option",{value:"Resistant",children:"Resistant"}),e.jsx("option",{value:"Passive",children:"Passive"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Clinical Notes"}),e.jsx("textarea",{value:a.notes||"",onChange:t=>l(i=>({...i,notes:t.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2",rows:3,placeholder:"Describe interventions and progress..."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{onClick:n,disabled:!a.notes,children:"Add Note"})})]}),e.jsxs("div",{className:"space-y-4",children:[o.slice().reverse().map(t=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-gray-900",children:new Date(t.date).toLocaleDateString()}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(t.date).toLocaleTimeString()})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium 
                        ${t.response==="Cooperative"?"bg-green-100 text-green-800":t.response==="Resistant"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:t.response})]}),e.jsx("div",{className:"text-gray-700 whitespace-pre-wrap",children:t.notes}),e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Therapist:"})," ",t.therapistName," |",e.jsx("span",{className:"font-medium ml-2",children:"Type:"})," ",t.sessionType]})]},t.id)),o.length===0&&e.jsx("div",{className:"text-center text-gray-500 py-8",children:"No progress notes recorded yet."})]})]})},U=({beneficiary:o,onUpdate:x})=>{var t,i,h;const[a,l]=u.useState("assessment");if(!o)return e.jsx("div",{className:"flex flex-col items-center justify-center p-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-500 font-medium",children:"يرجى اختيار مستفيد لعرض بياناته"})});const n=((t=o.medicalProfile)==null?void 0:t.physicalTherapy)||{assessments:[]};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:e.jsx(A,{size:24})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Goals"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((h=(i=n.assessments[0])==null?void 0:i.goals)==null?void 0:h.length)||0})]})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:e.jsx(S,{size:24})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Last Session"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"2 Days Ago"})]})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600",children:e.jsx(P,{size:24})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Sessions this Month"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"12"})]})]})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>l("assessment"),className:`${a==="assessment"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Assessment & Plan"}),e.jsx("button",{onClick:()=>l("notes"),className:`${a==="notes"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Progress Notes"})]})}),e.jsx("div",{className:"mt-6",children:a==="assessment"?e.jsx(D,{initialData:n.assessments[0],onSubmit:g=>console.log("Update PT Assessment",g)}):e.jsx(I,{notes:[],onAddNote:g=>console.log("Add Note",g)})})]})};export{U as PhysicalTherapyDashboard};
