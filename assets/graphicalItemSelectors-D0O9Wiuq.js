import{E as A,B as x,bs as O,aF as P,ap as D,bt as K}from"./CategoricalChart-CVOu2Sdu.js";var j=(e,t,r)=>{var a=r??e;if(!x(a))return O(a,t,0)},N=(e,t,r)=>{var a={},n=e.filter(A),s=e.filter(i=>i.stackId==null),o=n.reduce((i,u)=>(i[u.stackId]||(i[u.stackId]=[]),i[u.stackId].push(u),i),a),v=Object.entries(o).map(i=>{var[u,c]=i,p=c.map(I=>I.dataKey),m=j(t,r,c[0].barSize);return{stackId:u,dataKeys:p,barSize:m}}),d=s.map(i=>{var u=[i.dataKey].filter(p=>p!=null),c=j(t,r,i.barSize);return{stackId:void 0,dataKeys:u,barSize:c}});return[...v,...d]};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(a){$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=B(e,"string");return typeof t=="symbol"?t:t+""}function B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F(e,t,r,a,n){var s=a.length;if(!(s<1)){var o=O(e,r,0,!0),v,d=[];if(P(a[0].barSize)){var i=!1,u=r/s,c=a.reduce((y,f)=>y+(f.barSize||0),0);c+=(s-1)*o,c>=r&&(c-=(s-1)*o,o=0),c>=r&&u>0&&(i=!0,u*=.9,c=s*u);var p=(r-c)/2>>0,m={offset:p-o,size:0};v=a.reduce((y,f)=>{var b,_={stackId:f.stackId,dataKeys:f.dataKeys,position:{offset:m.offset+m.size+o,size:i?u:(b=f.barSize)!==null&&b!==void 0?b:0}},g=[...y,_];return m=g[g.length-1].position,g},d)}else{var I=O(t,r,0,!0);r-2*I-(s-1)*o<=0&&(o=0);var l=(r-2*I-(s-1)*o)/s;l>1&&(l>>=0);var h=P(n)?Math.min(l,n):l;v=a.reduce((y,f,b)=>[...y,{stackId:f.stackId,dataKeys:f.dataKeys,position:{offset:I+(l+o)*b+(l-h)/2,size:h}}],d)}return v}}var V=(e,t,r,a,n,s,o)=>{var v=x(o)?t:o,d=F(r,a,n!==s?n:s,e,v);return n!==s&&d!=null&&(d=d.map(i=>k(k({},i),{},{position:k(k({},i.position),{},{offset:i.position.offset-n/2})}))),d},R=(e,t)=>{var r=D(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:s}=n;if(s)return s.find(o=>o.key===r)}}}};function T(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&P(e.zIndex)?e.zIndex:t}function U(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(n=>n.id===t))===null||a===void 0?void 0:a.xAxisId)!==null&&r!==void 0?r:K}function W(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(n=>n.id===t))===null||a===void 0?void 0:a.yAxisId)!==null&&r!==void 0?r:K}export{V as a,N as b,R as c,W as d,T as g,U as s};
