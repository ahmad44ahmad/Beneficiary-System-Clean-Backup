import{r,a9 as g,j as e,y as j,ag as u,w as N,a7 as l,A as b,U as x,T as f,a as w,t as y,ab as v,ah as k,R as m,L as S,ai as C,F as R}from"./index-BOMQ6ZnB.js";const T=()=>{const[t,i]=r.useState(!0),[a,o]=r.useState({totalBeneficiaries:0,activeCases:0,completedTasks:0,pendingRisks:0,overallCompliance:0,sroiScore:0}),h=[{name:"إدارة المستفيدين",nameEn:"Beneficiary Management",icon:x,route:"/beneficiaries",progress:100,status:"complete",kpi:"ملفات رقمية كاملة"},{name:"الإعاشة",nameEn:"Catering & Nutrition",icon:v,route:"/catering",progress:100,status:"complete",kpi:"تحليل AI • فواتير رقمية"},{name:"التشغيل والصيانة",nameEn:"Operations & Maintenance",icon:k,route:"/operations",progress:60,status:"in_progress",kpi:"سجل الأصول • المخلفات"},{name:"الجودة",nameEn:"Quality Assurance",icon:l,route:"/quality",progress:80,status:"in_progress",kpi:"تقييم المقاولين"},{name:"المخاطر",nameEn:"Risk Management",icon:m,route:"/basira",progress:40,status:"in_progress",kpi:"سجل المخاطر"}];r.useEffect(()=>{c()},[]);const c=async()=>{i(!0);try{const{count:s}=await g.from("beneficiaries").select("*",{count:"exact",head:!0});o({totalBeneficiaries:s||0,activeCases:Math.floor((s||0)*.85),completedTasks:156,pendingRisks:3,overallCompliance:87,sroiScore:2.4})}catch(s){console.error("Error fetching dashboard data:",s)}i(!1)},n=s=>{switch(s){case"complete":return"bg-green-500";case"in_progress":return"bg-amber-500";case"pending":return"bg-gray-400";default:return"bg-gray-400"}},p=s=>{switch(s){case"complete":return"مكتمل";case"in_progress":return"قيد التطوير";case"pending":return"قادم";default:return s}};return e.jsxs("div",{className:"space-y-6",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-hrsd-primary flex items-center gap-3",children:[e.jsx(j,{className:"w-8 h-8"}),"لوحة المؤشرات الاستراتيجية"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"العائد الاجتماعي على الاستثمار (SROI) • رؤية 2030"})]}),e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),"تحديث"]})]}),e.jsx("div",{className:"bg-gradient-to-br from-hrsd-primary to-[rgb(20,100,130)] rounded-2xl shadow-xl p-8 text-white",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center md:border-l border-white/20 md:pl-8",children:[e.jsx(N,{className:"w-12 h-12 mx-auto mb-3 text-hrsd-gold"}),e.jsx("p",{className:"text-sm uppercase tracking-wide opacity-80",children:"العائد الاجتماعي SROI"}),e.jsx("p",{className:"text-5xl font-bold mt-2",children:a.sroiScore}),e.jsx("p",{className:"text-sm opacity-80 mt-1",children:"ريال لكل ريال مستثمر"})]}),e.jsxs("div",{className:"text-center md:border-l border-white/20 md:pl-8",children:[e.jsx(l,{className:"w-12 h-12 mx-auto mb-3 text-green-400"}),e.jsx("p",{className:"text-sm uppercase tracking-wide opacity-80",children:"نسبة الامتثال"}),e.jsxs("p",{className:"text-5xl font-bold mt-2",children:[a.overallCompliance,"%"]}),e.jsx("p",{className:"text-sm opacity-80 mt-1",children:"معايير الحوكمة"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(b,{className:"w-12 h-12 mx-auto mb-3 text-amber-400"}),e.jsx("p",{className:"text-sm uppercase tracking-wide opacity-80",children:"المهام المكتملة"}),e.jsx("p",{className:"text-5xl font-bold mt-2",children:a.completedTasks}),e.jsx("p",{className:"text-sm opacity-80 mt-1",children:"هذا الشهر"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md text-center",children:[e.jsx(x,{className:"w-8 h-8 mx-auto text-blue-500 mb-2"}),e.jsx("p",{className:"text-3xl font-bold",children:t?"...":a.totalBeneficiaries}),e.jsx("p",{className:"text-sm text-gray-500",children:"إجمالي المستفيدين"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md text-center",children:[e.jsx(l,{className:"w-8 h-8 mx-auto text-green-500 mb-2"}),e.jsx("p",{className:"text-3xl font-bold",children:t?"...":a.activeCases}),e.jsx("p",{className:"text-sm text-gray-500",children:"حالات نشطة"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md text-center",children:[e.jsx(f,{className:"w-8 h-8 mx-auto text-amber-500 mb-2"}),e.jsx("p",{className:"text-3xl font-bold",children:t?"...":a.pendingRisks}),e.jsx("p",{className:"text-sm text-gray-500",children:"مخاطر قيد المعالجة"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md text-center",children:[e.jsx(w,{className:"w-8 h-8 mx-auto text-hrsd-primary mb-2"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:"+12%"}),e.jsx("p",{className:"text-sm text-gray-500",children:"تحسن الأداء"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[e.jsx(y,{className:"w-6 h-6 text-hrsd-primary"}),"تقدم الوحدات النظامية"]}),e.jsx("div",{className:"space-y-4",children:h.map((s,d)=>e.jsxs(S,{to:s.route,className:"flex items-center gap-4 p-4 rounded-xl border border-gray-100 hover:border-hrsd-primary/30 hover:shadow-md transition-all group",children:[e.jsx("div",{className:`p-3 rounded-xl ${n(s.status)} text-white`,children:e.jsx(s.icon,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:s.name}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s.status==="complete"?"bg-green-100 text-green-800":s.status==="in_progress"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-600"}`,children:p(s.status)})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:s.kpi}),e.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${n(s.status)} transition-all`,style:{width:`${s.progress}%`}})})]}),e.jsx(C,{className:"w-5 h-5 text-gray-400 group-hover:text-hrsd-primary group-hover:translate-x-[-4px] transition-all"})]},d))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5 text-hrsd-primary"}),"معايير الامتثال"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"هيئة عقارات الدولة"}),e.jsx("span",{className:"text-green-600 font-medium",children:"متوافق"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"نظام أصول (وزارة المالية)"}),e.jsx("span",{className:"text-amber-600 font-medium",children:"قيد التطبيق"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"معايير IPSAS المحاسبية"}),e.jsx("span",{className:"text-green-600 font-medium",children:"متوافق"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"ISO 9001:2015"}),e.jsx("span",{className:"text-amber-600 font-medium",children:"قيد التقييم"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-hrsd-primary"}),"رؤية 2030 - المواءمة"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"تمكين ذوي الإعاقة"}),e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 w-[85%]"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"التحول الرقمي"}),e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 w-[90%]"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"الاستدامة المالية"}),e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-500 w-[70%]"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"جودة الحياة"}),e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 w-[80%]"})})]})]})]})]})]})};export{T as StrategicKPIDashboard,T as default};
