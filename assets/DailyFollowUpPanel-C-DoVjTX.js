import{r as u,j as e,h as R}from"./index-BOMQ6ZnB.js";const I=({beneficiaries:m,onSave:S,onCancel:g,initialData:i})=>{var x,b,a,n,j,f,k,w,T,N;const[r,h]=u.useState("info"),[t,l]=u.useState(i||{date:new Date().toISOString().split("T")[0],shift:"first",section:"male",supervisorName:"",startTime:"",endTime:"",beneficiaryStats:{total:m.length,internalVisits:0,externalVisits:0,admissions:0,appointments:0,emergencies:0,deaths:0,injuries:0,others:""},staffAttendance:[{category:"الموظفين الرسميين",total:0,present:0,absent:0},{category:"الشركة المشغلة (مشرف)",total:0,present:0,absent:0},{category:"الشركة المشغلة (تمريض)",total:0,present:0,absent:0},{category:"الشركة المشغلة (رعاية)",total:0,present:0,absent:0},{category:"الحراسات الأمنية",total:0,present:0,absent:0},{category:"السائقين",total:0,present:0,absent:0},{category:"موظفي المطبخ",total:0,present:0,absent:0}],serviceStats:[{serviceName:"العلاج الطبيعي",totalBeneficiaries:0,attended:0,absent:0},{serviceName:"العلاج الوظيفي",totalBeneficiaries:0,attended:0,absent:0},{serviceName:"النطق والتخاطب",totalBeneficiaries:0,attended:0,absent:0},{serviceName:"التعليم",totalBeneficiaries:0,attended:0,absent:0},{serviceName:"التدريب",totalBeneficiaries:0,attended:0,absent:0},{serviceName:"الأنشطة الاجتماعية",totalBeneficiaries:0,attended:0,absent:0}],meals:[],cleaningMaintenance:[{area:"rooms",status:"clean",maintenanceRequests:0,actionTaken:""},{area:"bathrooms",status:"clean",maintenanceRequests:0,actionTaken:""},{area:"corridors",status:"clean",maintenanceRequests:0,actionTaken:""},{area:"entrances",status:"clean",maintenanceRequests:0,actionTaken:""}],psychologicalStatus:"",socialStatus:"",healthStatus:"",nursingCare:"",handoverTime:"",receivingSupervisor:"",handingOverSupervisor:""}),C=s=>{s.preventDefault(),S({id:Date.now().toString(),...t})},v=(s,d,c)=>{const o=[...t.staffAttendance||[]];o[s]={...o[s],[d]:c},l({...t,staffAttendance:o})},y=(s,d,c)=>{const o=[...t.serviceStats||[]];o[s]={...o[s],[d]:c},l({...t,serviceStats:o})},p=(s,d,c)=>{const o=[...t.cleaningMaintenance||[]];o[s]={...o[s],[d]:c},l({...t,cleaningMaintenance:o})};return e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content large",style:{maxWidth:"1200px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"سجل المتابعة اليومية للفترات"}),e.jsxs("div",{className:"tabs",children:[e.jsx("button",{type:"button",className:r==="info"?"active":"",onClick:()=>h("info"),children:"معلومات الفترة"}),e.jsx("button",{type:"button",className:r==="services"?"active":"",onClick:()=>h("services"),children:"الخدمات والأنشطة"}),e.jsx("button",{type:"button",className:r==="meals"?"active":"",onClick:()=>h("meals"),children:"الوجبات"}),e.jsx("button",{type:"button",className:r==="status"?"active":"",onClick:()=>h("status"),children:"أوضاع المستفيدين"}),e.jsx("button",{type:"button",className:r==="hygiene"?"active":"",onClick:()=>h("hygiene"),children:"النظافة والصيانة"}),e.jsx("button",{type:"button",className:r==="handover"?"active":"",onClick:()=>h("handover"),children:"التسليم والاستلام"})]})]}),e.jsxs("form",{onSubmit:C,className:"daily-shift-form",children:[r==="info"&&e.jsxs("div",{className:"form-section",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"التاريخ"}),e.jsx("input",{type:"date",value:t.date,onChange:s=>l({...t,date:s.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"اليوم"}),e.jsx("input",{type:"text",value:t.day,onChange:s=>l({...t,day:s.target.value}),placeholder:"مثال: الأحد"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"الفترة"}),e.jsxs("select",{value:t.shift,onChange:s=>l({...t,shift:s.target.value}),children:[e.jsx("option",{value:"first",children:"الأولى (6ص - 12:30م)"}),e.jsx("option",{value:"second",children:"الثانية (12:30م - 7:30م)"}),e.jsx("option",{value:"third",children:"الثالثة (7م - 1ص)"}),e.jsx("option",{value:"fourth",children:"الرابعة (12:30ص - 6:30ص)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"القسم"}),e.jsxs("select",{value:t.section,onChange:s=>l({...t,section:s.target.value}),children:[e.jsx("option",{value:"male",children:"ذكور"}),e.jsx("option",{value:"female",children:"إناث"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"مشرف الفترة"}),e.jsx("input",{type:"text",value:t.supervisorName,onChange:s=>l({...t,supervisorName:s.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"وقت البداية"}),e.jsx("input",{type:"time",value:t.startTime,onChange:s=>l({...t,startTime:s.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"وقت النهاية"}),e.jsx("input",{type:"time",value:t.endTime,onChange:s=>l({...t,endTime:s.target.value})})]})]}),e.jsx("h3",{children:"إحصائيات المستفيدين"}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("label",{children:"العدد الكلي"}),e.jsx("input",{type:"number",value:(x=t.beneficiaryStats)==null?void 0:x.total,onChange:s=>l({...t,beneficiaryStats:{...t.beneficiaryStats,total:Number(s.target.value)}})})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("label",{children:"زيارات داخلية"}),e.jsx("input",{type:"number",value:(b=t.beneficiaryStats)==null?void 0:b.internalVisits,onChange:s=>l({...t,beneficiaryStats:{...t.beneficiaryStats,internalVisits:Number(s.target.value)}})})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("label",{children:"زيارات خارجية"}),e.jsx("input",{type:"number",value:(a=t.beneficiaryStats)==null?void 0:a.externalVisits,onChange:s=>l({...t,beneficiaryStats:{...t.beneficiaryStats,externalVisits:Number(s.target.value)}})})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("label",{children:"تنويم"}),e.jsx("input",{type:"number",value:(n=t.beneficiaryStats)==null?void 0:n.admissions,onChange:s=>l({...t,beneficiaryStats:{...t.beneficiaryStats,admissions:Number(s.target.value)}})})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("label",{children:"مواعيد"}),e.jsx("input",{type:"number",value:(j=t.beneficiaryStats)==null?void 0:j.appointments,onChange:s=>l({...t,beneficiaryStats:{...t.beneficiaryStats,appointments:Number(s.target.value)}})})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("label",{children:"طوارئ"}),e.jsx("input",{type:"number",value:(f=t.beneficiaryStats)==null?void 0:f.emergencies,onChange:s=>l({...t,beneficiaryStats:{...t.beneficiaryStats,emergencies:Number(s.target.value)}})})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("label",{children:"إصابات"}),e.jsx("input",{type:"number",value:(k=t.beneficiaryStats)==null?void 0:k.injuries,onChange:s=>l({...t,beneficiaryStats:{...t.beneficiaryStats,injuries:Number(s.target.value)}})})]})]}),e.jsx("h3",{children:"إحصائيات العاملين"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"الفئة"}),e.jsx("th",{children:"العدد الكلي"}),e.jsx("th",{children:"الحضور"}),e.jsx("th",{children:"الغياب"})]})}),e.jsx("tbody",{children:(w=t.staffAttendance)==null?void 0:w.map((s,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:s.category}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"table-input",value:s.total,onChange:c=>v(d,"total",Number(c.target.value))})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"table-input",value:s.present,onChange:c=>v(d,"present",Number(c.target.value))})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"table-input",value:s.absent,onChange:c=>v(d,"absent",Number(c.target.value))})})]},d))})]})]}),r==="services"&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"الخدمات الداخلية (للفترات الصباحية)"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"الخدمة"}),e.jsx("th",{children:"عدد المستفيدين"}),e.jsx("th",{children:"الحضور"}),e.jsx("th",{children:"الغياب"})]})}),e.jsx("tbody",{children:(T=t.serviceStats)==null?void 0:T.map((s,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:s.serviceName}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"table-input",value:s.totalBeneficiaries,onChange:c=>y(d,"totalBeneficiaries",Number(c.target.value))})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"table-input",value:s.attended,onChange:c=>y(d,"attended",Number(c.target.value))})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"table-input",value:s.absent,onChange:c=>y(d,"absent",Number(c.target.value))})})]},d))})]})]}),r==="meals"&&e.jsxs("div",{className:"form-section",children:[e.jsx("p",{className:"hint",children:"يرجى تسجيل تفاصيل الوجبات المقدمة خلال هذه الفترة."}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ملاحظات الوجبات"}),e.jsx("textarea",{className:"large-textarea",placeholder:"سجل هنا تفاصيل الوجبات، الأصناف، وأسماء المشرفين...",rows:6})]})]}),r==="status"&&e.jsxs("div",{className:"form-section",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"أوضاع المستفيدين السلوكية والنفسية"}),e.jsx("textarea",{className:"large-textarea",value:t.psychologicalStatus,onChange:s=>l({...t,psychologicalStatus:s.target.value}),rows:5,placeholder:"سجل الملاحظات السلوكية والنفسية..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"أوضاع المستفيدين الاجتماعية (فترات الراحة/النوم)"}),e.jsx("textarea",{className:"large-textarea",value:t.socialStatus,onChange:s=>l({...t,socialStatus:s.target.value}),rows:5,placeholder:"سجل الملاحظات الاجتماعية، انتظام النوم، الزيارات..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"أوضاع المستفيدين الصحية والتمريضية"}),e.jsx("textarea",{className:"large-textarea",value:t.healthStatus,onChange:s=>l({...t,healthStatus:s.target.value}),rows:5,placeholder:"سجل الملاحظات الصحية، الرعاية التمريضية، العزل..."})]})]}),r==="hygiene"&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"أعمال النظافة والصيانة"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"المكان"}),e.jsx("th",{children:"الحالة"}),e.jsx("th",{children:"طلبات الصيانة"}),e.jsx("th",{children:"الإجراء المتخذ"})]})}),e.jsx("tbody",{children:(N=t.cleaningMaintenance)==null?void 0:N.map((s,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:s.area==="rooms"?"الغرف":s.area==="bathrooms"?"دورات المياه":s.area==="corridors"?"الممرات":"المداخل"}),e.jsx("td",{children:e.jsxs("select",{className:"table-input",value:s.status,onChange:c=>p(d,"status",c.target.value),children:[e.jsx("option",{value:"clean",children:"نظيف"}),e.jsx("option",{value:"needs_attention",children:"يحتاج تنظيف"})]})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"table-input",value:s.maintenanceRequests,onChange:c=>p(d,"maintenanceRequests",Number(c.target.value))})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"table-input",value:s.actionTaken,onChange:c=>p(d,"actionTaken",c.target.value)})})]},d))})]})]}),r==="handover"&&e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"وقت التسليم"}),e.jsx("input",{type:"time",value:t.handoverTime,onChange:s=>l({...t,handoverTime:s.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"المشرف المسلم (الحالي)"}),e.jsx("input",{type:"text",value:t.handingOverSupervisor,onChange:s=>l({...t,handingOverSupervisor:s.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"المشرف المستلم (القادم)"}),e.jsx("input",{type:"text",value:t.receivingSupervisor,onChange:s=>l({...t,receivingSupervisor:s.target.value})})]})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:g,className:"btn-secondary",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"حفظ السجل"})]})]})]})})},D=({beneficiaries:m,onSave:S,onCancel:g})=>{var b;const[i,r]=u.useState({date:new Date().toISOString().split("T")[0],time:"",shift:"first",beneficiaryId:"",location:"",type:"injury",description:"",actionTaken:"",cameraRecordingKept:!1,staffWitnesses:[],notes:""}),[h,t]=u.useState(""),[l,C]=u.useState(""),v=()=>{h&&l&&(r({...i,staffWitnesses:[...i.staffWitnesses||[],{name:h,role:l}]}),t(""),C(""))},y=a=>{r({...i,staffWitnesses:(i.staffWitnesses||[]).filter((n,j)=>j!==a)})},p=a=>{a.preventDefault(),S({id:Date.now().toString(),...i})},x=m.find(a=>a.id===i.beneficiaryId);return e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content large",children:[e.jsx("h2",{children:"نموذج محضر واقعة"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"التاريخ"}),e.jsx("input",{type:"date",value:i.date,onChange:a=>r({...i,date:a.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"الوقت"}),e.jsx("input",{type:"time",value:i.time,onChange:a=>r({...i,time:a.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"الفترة"}),e.jsxs("select",{value:i.shift,onChange:a=>r({...i,shift:a.target.value}),children:[e.jsx("option",{value:"first",children:"الأولى"}),e.jsx("option",{value:"second",children:"الثانية"}),e.jsx("option",{value:"third",children:"الثالثة"}),e.jsx("option",{value:"fourth",children:"الرابعة"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"المستفيد"}),e.jsxs("select",{value:i.beneficiaryId,onChange:a=>r({...i,beneficiaryId:a.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"اختر المستفيد..."}),m.map(a=>e.jsx("option",{value:a.id,children:a.fullName},a.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"رقم الغرفة/السرير"}),e.jsx("input",{type:"text",value:i.location,onChange:a=>r({...i,location:a.target.value}),placeholder:x?`${x.roomNumber||""} / ${x.bedNumber||""}`:""})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"نوع الواقعة"}),e.jsxs("select",{value:i.type,onChange:a=>r({...i,type:a.target.value}),children:[e.jsx("option",{value:"injury",children:"إصابة"}),e.jsx("option",{value:"assault",children:"اعتداء"}),e.jsx("option",{value:"neglect",children:"إهمال"}),e.jsx("option",{value:"self_harm",children:"إيذاء ذات"}),e.jsx("option",{value:"suicide_attempt",children:"محاولة انتحار"}),e.jsx("option",{value:"death",children:"وفاة"}),e.jsx("option",{value:"agitation",children:"هيجان"}),e.jsx("option",{value:"vandalism",children:"تخريب وشغب"}),e.jsx("option",{value:"escape",children:"هروب"}),e.jsx("option",{value:"other",children:"غير ذلك"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"وصف الواقعة (تفصيلي)"}),e.jsx("textarea",{className:"large-textarea",value:i.description,onChange:a=>r({...i,description:a.target.value}),rows:6,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"الإجراء المتخذ"}),e.jsx("textarea",{className:"large-textarea",value:i.actionTaken,onChange:a=>r({...i,actionTaken:a.target.value}),rows:4,required:!0})]}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:i.cameraRecordingKept,onChange:a=>r({...i,cameraRecordingKept:a.target.checked})}),"تم الاحتفاظ بنسخة من تسجيل الكاميرات للواقعة"]})}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"الشهود / المسؤولين الحاضرين"}),e.jsxs("div",{className:"form-row",style:{alignItems:"flex-end"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"الاسم"}),e.jsx("input",{type:"text",value:h,onChange:a=>t(a.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"الصفة/المسمى الوظيفي"}),e.jsx("input",{type:"text",value:l,onChange:a=>C(a.target.value)})]}),e.jsx("button",{type:"button",onClick:v,className:"btn-secondary",children:"إضافة"})]}),e.jsx("ul",{className:"selected-items-list",children:(b=i.staffWitnesses)==null?void 0:b.map((a,n)=>e.jsxs("li",{children:[e.jsxs("span",{children:[a.name," - ",a.role]}),e.jsx("button",{type:"button",onClick:()=>y(n),className:"btn-icon delete",children:"×"})]},n))})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:g,className:"btn-secondary",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"حفظ المحضر"})]})]})]})})},W=()=>{const[m,S]=u.useState("male"),[g,i]=u.useState("shifts"),[r,h]=u.useState([]),[t,l]=u.useState([]),[C,v]=u.useState(!1),[y,p]=u.useState(!1),x=r.filter(n=>n.section===m),b=t,a=(n,j)=>{if(!n.length){alert("لا توجد بيانات للتصدير");return}const f=[],k=Object.keys(n[0]);f.push(k.join(","));for(const s of n){const d=k.map(c=>{const o=s[c];return typeof o=="object"?`"${JSON.stringify(o).replace(/"/g,'""')}"`:`"${o}"`});f.push(d.join(","))}const w="data:text/csv;charset=utf-8,\uFEFF"+f.join(`
`),T=encodeURI(w),N=document.createElement("a");N.setAttribute("href",T),N.setAttribute("download",`${j}.csv`),document.body.appendChild(N),N.click(),document.body.removeChild(N)};return e.jsxs("div",{className:"clothing-panel",children:[" ",e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"سجل المتابعة اليومية للخدمات"}),e.jsx("div",{className:"form-row",style:{justifyContent:"center",marginBottom:"1rem"},children:e.jsxs("div",{className:"tabs",children:[e.jsx("button",{className:m==="male"?"active":"",onClick:()=>S("male"),children:"قسم الذكور"}),e.jsx("button",{className:m==="female"?"active":"",onClick:()=>S("female"),children:"قسم الإناث"})]})}),e.jsxs("div",{className:"tabs",children:[e.jsx("button",{className:g==="shifts"?"active":"",onClick:()=>i("shifts"),children:"سجلات الفترات"}),e.jsx("button",{className:g==="incidents"?"active":"",onClick:()=>i("incidents"),children:"محاضر الوقائع"})]})]}),e.jsxs("div",{className:"panel-content",children:[g==="shifts"&&e.jsxs("div",{className:"tab-section",children:[e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>v(!0),children:"إضافة سجل فترة جديد"}),e.jsx("button",{className:"btn-secondary",onClick:()=>a(x,`daily_shifts_${m}`),children:"تصدير CSV"})]}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"التاريخ"}),e.jsx("th",{children:"اليوم"}),e.jsx("th",{children:"الفترة"}),e.jsx("th",{children:"المشرف"}),e.jsx("th",{children:"عدد المستفيدين"}),e.jsx("th",{children:"الحالة"})]})}),e.jsxs("tbody",{children:[x.map(n=>e.jsxs("tr",{children:[e.jsx("td",{children:n.date}),e.jsx("td",{children:n.day}),e.jsx("td",{children:n.shift==="first"?"الأولى":n.shift==="second"?"الثانية":n.shift==="third"?"الثالثة":"الرابعة"}),e.jsx("td",{children:n.supervisorName}),e.jsx("td",{children:n.beneficiaryStats.total}),e.jsx("td",{children:n.centerDirectorApproval?"معتمد":"مسودة"})]},n.id)),x.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:"لا توجد سجلات لهذا القسم"})})]})]})]}),g==="incidents"&&e.jsxs("div",{className:"tab-section",children:[e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>p(!0),children:"إضافة محضر واقعة"}),e.jsx("button",{className:"btn-secondary",onClick:()=>a(b,"incident_reports"),children:"تصدير CSV"})]}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"التاريخ"}),e.jsx("th",{children:"المستفيد"}),e.jsx("th",{children:"نوع الواقعة"}),e.jsx("th",{children:"الفترة"}),e.jsx("th",{children:"الإجراء المتخذ"})]})}),e.jsxs("tbody",{children:[b.map(n=>{const j=R.find(f=>f.id===n.beneficiaryId);return e.jsxs("tr",{children:[e.jsx("td",{children:n.date}),e.jsx("td",{children:(j==null?void 0:j.fullName)||"غير معروف"}),e.jsx("td",{children:n.type==="injury"?"إصابة":n.type==="assault"?"اعتداء":n.type==="escape"?"هروب":n.type}),e.jsx("td",{children:n.shift}),e.jsxs("td",{children:[n.actionTaken.substring(0,50),"..."]})]},n.id)}),b.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,children:"لا توجد محاضر وقائع"})})]})]})]})]}),C&&e.jsx(I,{beneficiaries:R,initialData:{section:m},onSave:n=>{h([...r,n]),v(!1)},onCancel:()=>v(!1)}),y&&e.jsx(D,{beneficiaries:R,onSave:n=>{l([...t,n]),p(!1)},onCancel:()=>p(!1)})]})};export{W as DailyFollowUpPanel};
