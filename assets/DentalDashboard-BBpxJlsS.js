import{r as f,j as e,C as x,B as N,q as p,b5 as v,O as w,H as C}from"./index-BOMQ6ZnB.js";const H=({initialData:r,onSubmit:m})=>{var c,h;const[n,a]=f.useState(r||{teeth:Array.from({length:32},(s,l)=>({number:l+1,status:"Healthy"})),gumHealth:"Healthy",plaqueIndex:"Low",calculusIndex:"Low",recommendations:[]}),t=s=>{const l=["Healthy","Decayed","Missing","Filled","Crown","Healthy"];a(g=>{const d=[...g.teeth||[]],o=d.findIndex(y=>y.number===s),j=d[o].status,b=l[l.indexOf(j)+1];return d[o]={...d[o],status:b},{...g,teeth:d}})},i=s=>{switch(s){case"Decayed":return"bg-red-500";case"Missing":return"bg-gray-800";case"Filled":return"bg-blue-500";case"Crown":return"bg-yellow-500";default:return"bg-white border-gray-400"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(x,{title:"Dental Chart (Interactive)",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Click on a tooth to cycle status (Healthy, Decayed, Missing, Filled, Crown)"}),e.jsx("div",{className:"flex space-x-1",children:(c=n.teeth)==null?void 0:c.slice(0,16).map(s=>e.jsx("button",{onClick:()=>t(s.number),className:`w-8 h-12 border rounded-t-lg flex items-center justify-center text-xs font-bold ${i(s.status)} ${s.status==="Healthy"?"text-gray-700":"text-white"}`,children:s.number},s.number))}),e.jsx("div",{className:"flex space-x-1",children:(h=n.teeth)==null?void 0:h.slice(16,32).reverse().map(s=>e.jsx("button",{onClick:()=>t(s.number),className:`w-8 h-12 border rounded-b-lg flex items-center justify-center text-xs font-bold ${i(s.status)} ${s.status==="Healthy"?"text-gray-700":"text-white"}`,children:s.number},s.number))}),e.jsxs("div",{className:"flex gap-4 mt-4 text-sm",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 mr-1"})," Decayed"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 mr-1"})," Filled"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 mr-1"})," Crown"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-800 mr-1"})," Missing"]})]})]})}),e.jsx(x,{title:"Periodontal & Hygiene Status",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(u,{label:"Gum Health",value:n.gumHealth,options:["Healthy","Gingivitis","Periodontitis"],onChange:s=>a(l=>({...l,gumHealth:s}))}),e.jsx(u,{label:"Plaque Index",value:n.plaqueIndex,options:["Low","Moderate","Heavy"],onChange:s=>a(l=>({...l,plaqueIndex:s}))}),e.jsx(u,{label:"Calculus Index",value:n.calculusIndex,options:["Low","Moderate","Heavy"],onChange:s=>a(l=>({...l,calculusIndex:s}))})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(N,{onClick:()=>m(n),children:[e.jsx(p,{className:"mr-2 h-4 w-4"})," Save Dental Chart"]})})]})},u=({label:r,value:m,options:n,onChange:a})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),e.jsx("select",{value:m,onChange:t=>a(t.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border",children:n.map(t=>e.jsx("option",{value:t,children:t},t))})]}),I=({beneficiary:r,onUpdate:m})=>{var t,i;if(!r)return e.jsx("div",{className:"flex flex-col items-center justify-center p-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-500 font-medium",children:"يرجى اختيار مستفيد لعرض بياناته"})});const a=(((t=r.medicalProfile)==null?void 0:t.dental)||{assessments:[]}).assessments[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-cyan-100 text-cyan-600",children:e.jsx(v,{size:24})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Hygiene Status"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(a==null?void 0:a.plaqueIndex)||"Unknown"})]})]})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-red-100 text-red-600",children:e.jsx(w,{size:24})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cavities"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:((i=a==null?void 0:a.teeth)==null?void 0:i.filter(c=>c.status==="Decayed").length)||0})]})]})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:e.jsx(C,{size:24})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gum Health"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(a==null?void 0:a.gumHealth)||"Healthy"})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(H,{initialData:a,onSubmit:c=>console.log("Update Dental Assessment",c)})})]})};export{I as DentalDashboard};
