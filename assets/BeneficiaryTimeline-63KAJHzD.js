import{r as o,j as e,D as x,c as g,v,d as C,F as j,T as $,ab as E,A as T,bF as S,U as D,b as k,aZ as O,N as A,K as F,a$ as U}from"./index-BOMQ6ZnB.js";const p={admission:{icon:D,color:"text-blue-400",bgColor:"bg-blue-500/20",label:"دخول"},medication:{icon:S,color:"text-purple-400",bgColor:"bg-purple-500/20",label:"دواء"},therapy:{icon:T,color:"text-green-400",bgColor:"bg-green-500/20",label:"علاج"},meal:{icon:E,color:"text-orange-400",bgColor:"bg-orange-500/20",label:"وجبة"},incident:{icon:$,color:"text-red-400",bgColor:"bg-red-500/20",label:"حادث"},assessment:{icon:j,color:"text-cyan-400",bgColor:"bg-cyan-500/20",label:"تقييم"},visit:{icon:C,color:"text-pink-400",bgColor:"bg-pink-500/20",label:"زيارة"},achievement:{icon:v,color:"text-yellow-400",bgColor:"bg-yellow-500/20",label:"إنجاز"}},I=[{id:"1",type:"medication",title:"إعطاء دواء الأنسولين",description:"10 وحدات - حقن تحت الجلد",timestamp:"10:30",date:"2026-01-13",staffName:"نايف الغامدي",details:{"السكر قبل":"180 mg/dL","السكر بعد":"140 mg/dL"}},{id:"2",type:"therapy",title:"جلسة علاج طبيعي",description:"تمارين المشي والتوازن",timestamp:"09:00",date:"2026-01-13",staffName:"أ. سارة",details:{المدة:"45 دقيقة",التقييم:"جيد"}},{id:"3",type:"meal",title:"وجبة الإفطار",description:"نظام غذائي سكري",timestamp:"08:00",date:"2026-01-13",details:{الكمية:"80%",الملاحظات:"شهية جيدة"}},{id:"4",type:"assessment",title:"قياس العلامات الحيوية",description:"فحص روتيني صباحي",timestamp:"07:30",date:"2026-01-13",staffName:"نايف الغامدي",details:{الضغط:"130/85",النبض:"78",الحرارة:"36.8°C",الأكسجين:"98%"}},{id:"5",type:"visit",title:"زيارة عائلية",description:"زيارة ابن المستفيد",timestamp:"15:00",date:"2026-01-12",details:{المدة:"60 دقيقة","حالة المستفيد":"سعيد"}},{id:"6",type:"achievement",title:"تحقيق هدف تأهيلي",description:"المشي 50 متر بدون مساعدة",timestamp:"11:00",date:"2026-01-12",staffName:"أ. سارة"},{id:"7",type:"incident",title:"حادثة سقوط بسيطة",description:"سقوط أثناء النهوض من الكرسي",timestamp:"14:30",date:"2026-01-11",staffName:"نايف الغامدي",details:{الإصابة:"لا توجد",الإجراء:"مراقبة"},attachments:[{type:"document",name:"تقرير_الحادثة.pdf"}]},{id:"8",type:"admission",title:"الدخول للمركز",description:"تسجيل وتقييم أولي",timestamp:"10:00",date:"2026-01-01",staffName:"أ. سعيد الغامدي"}],B=({beneficiaryName:N="محمد أحمد العمري"})=>{const[h]=o.useState(I),[u,f]=o.useState(null),[r,n]=o.useState("all"),[b,L]=o.useState(""),y=h.filter(t=>{const a=r==="all"||t.type===r,s=t.title.includes(b)||t.description.includes(b);return a&&s}).reduce((t,a)=>(t[a.date]||(t[a.date]=[]),t[a.date].push(a),t),{}),w=t=>{const a=new Date(t),s=new Date,i=new Date(s);return i.setDate(i.getDate()-1),t===s.toISOString().split("T")[0]?"اليوم":t===i.toISOString().split("T")[0]?"أمس":a.toLocaleDateString("ar-SA",{weekday:"long",day:"numeric",month:"long"})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-6",dir:"rtl",children:[e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(g,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"الجدول الزمني"}),e.jsx("p",{className:"text-slate-400 text-sm",children:N})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:Object.entries(p).slice(0,4).map(([t,a])=>{const s=h.filter(i=>i.type===t).length;return e.jsxs("button",{onClick:()=>n(r===t?"all":t),className:`p-3 rounded-xl border transition-colors ${r===t?`${a.bgColor} border-${a.color.replace("text-","")}`:"bg-slate-800/50 border-slate-700 hover:bg-slate-700"}`,children:[e.jsx(a.icon,{className:`w-5 h-5 ${a.color} mx-auto mb-1`}),e.jsx("p",{className:"text-lg font-bold",children:s}),e.jsx("p",{className:"text-xs text-slate-400",children:a.label})]},t)})})]}),e.jsxs("div",{className:"flex gap-3 mb-6 overflow-x-auto pb-2",children:[e.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-xl whitespace-nowrap transition-colors ${r==="all"?"bg-blue-500 text-white":"bg-slate-800 text-slate-400"}`,children:"الكل"}),Object.entries(p).map(([t,a])=>e.jsxs("button",{onClick:()=>n(t),className:`px-4 py-2 rounded-xl whitespace-nowrap flex items-center gap-2 transition-colors ${r===t?`${a.bgColor} ${a.color}`:"bg-slate-800 text-slate-400"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"}),a.label]},t))]}),e.jsx("div",{className:"space-y-8",children:Object.entries(y).map(([t,a])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(k,{className:"w-5 h-5 text-slate-500"}),e.jsx("h3",{className:"text-lg font-bold text-slate-300",children:w(t)}),e.jsx("div",{className:"flex-1 h-px bg-slate-700"})]}),e.jsx("div",{className:"space-y-3 mr-6 border-r-2 border-slate-700 pr-6",children:a.map((s,i)=>{const l=p[s.type],d=u===s.id;return e.jsxs(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},className:"relative",children:[e.jsx("div",{className:`absolute -right-9 w-4 h-4 rounded-full ${l.bgColor} border-2 border-slate-800`}),e.jsxs("div",{className:`${l.bgColor} rounded-2xl p-4 cursor-pointer hover:ring-2 hover:ring-${l.color.replace("text-","")}/30 transition-all`,onClick:()=>f(d?null:s.id),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${l.bgColor} flex items-center justify-center`,children:e.jsx(l.icon,{className:`w-5 h-5 ${l.color}`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold text-white",children:s.title}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${l.bgColor} ${l.color}`,children:l.label})]}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:s.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-slate-500 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-3 h-3"}),s.timestamp]}),s.staffName&&e.jsxs("span",{children:["بواسطة: ",s.staffName]})]})]})]}),(s.details||s.attachments)&&e.jsx("button",{className:"p-1",children:d?e.jsx(O,{className:"w-5 h-5"}):e.jsx(A,{className:"w-5 h-5"})})]}),e.jsx(F,{children:d&&(s.details||s.attachments)&&e.jsxs(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 pt-4 border-t border-slate-600/50",children:[s.details&&e.jsx("div",{className:"grid grid-cols-2 gap-3 mb-3",children:Object.entries(s.details).map(([c,m])=>e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-slate-500 text-xs",children:c}),e.jsx("p",{className:"text-white font-medium",children:m})]},c))}),s.attachments&&e.jsx("div",{className:"flex gap-2",children:s.attachments.map((c,m)=>e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-slate-800/50 rounded-lg hover:bg-slate-700 transition-colors",children:[c.type==="image"?e.jsx(U,{className:"w-4 h-4"}):e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:c.name})]},m))})]})})]})]},s.id)})})]},t))})]})};export{B as BeneficiaryTimeline,B as default};
