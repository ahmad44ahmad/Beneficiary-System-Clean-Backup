import{r as l,a2 as ke}from"./index-BOMQ6ZnB.js";import{af as ae,S as Ee,B as oe,c as M,bx as Se,aT as Ce,b as T,am as Oe,ak as j,al as K,r as se,aq as ue,u as ce,v as we,w as ze,ao as re,x as Me,by as te,H as Le,Q as R,ar as De,F as je,I as Y,as as de,R as Ke,at as Te,au as Fe,Z,N as ve,M as Ne,av as Re,L as _e,J as _,U as fe,t as We,T as Ge,V as ne,$ as pe,O as Ue,P as me,W as Ve,X as $e,Y as z,a0 as Xe,aC as Ye,_ as Ze,bz as qe,aB as Je,a2 as ie,a3 as Qe}from"./CategoricalChart-CVOu2Sdu.js";import{C as He,u as xe,a as he,b as ge}from"./tooltipContext-aDNLGl9E.js";import{S as ea}from"./ErrorBarContext-DeCBPfcE.js";import{u as aa,G as ra,C as ta}from"./CartesianChart-BCPM_Iof.js";import{s as L,d as D,c as na,a as ia,b as la,g as oa}from"./graphicalItemSelectors-D0O9Wiuq.js";var sa="Invariant failed";function ua(e,a){throw new Error(sa)}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},$.apply(null,arguments)}function W(e){return l.createElement(Ee,$({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var ca=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(t,i)=>{if(ae(a))return a;var n=ae(t)||oe(t);return n?a(t,i):(n||ua(),r)}},da=(e,a,r)=>r,va=(e,a)=>a,F=M([ue,va],(e,a)=>e.filter(r=>r.type==="bar").find(r=>r.id===a)),fa=M([F],e=>e==null?void 0:e.maxBarSize),pa=(e,a,r,t)=>t,ma=M([T,ue,L,D,da],(e,a,r,t,i)=>a.filter(n=>e==="horizontal"?n.xAxisId===r:n.yAxisId===t).filter(n=>n.isPanorama===i).filter(n=>n.hide===!1).filter(n=>n.type==="bar")),xa=(e,a,r)=>{var t=T(e),i=L(e,a),n=D(e,a);if(!(i==null||n==null))return t==="horizontal"?re(e,"yAxis",n,r):re(e,"xAxis",i,r)},ha=(e,a)=>{var r=T(e),t=L(e,a),i=D(e,a);if(!(t==null||i==null))return r==="horizontal"?te(e,"xAxis",t):te(e,"yAxis",i)},ga=M([ma,Me,ha],la),ya=(e,a,r)=>{var t,i,n=F(e,a);if(n!=null){var o=L(e,a),u=D(e,a);if(!(o==null||u==null)){var f=T(e),c=ce(e),{maxBarSize:d}=n,g=oe(d)?c:d,p,y;return f==="horizontal"?(p=j(e,"xAxis",o,r),y=K(e,"xAxis",o,r)):(p=j(e,"yAxis",u,r),y=K(e,"yAxis",u,r)),(t=(i=se(p,y,!0))!==null&&i!==void 0?i:g)!==null&&t!==void 0?t:0}}},ye=(e,a,r)=>{var t=T(e),i=L(e,a),n=D(e,a);if(!(i==null||n==null)){var o,u;return t==="horizontal"?(o=j(e,"xAxis",i,r),u=K(e,"xAxis",i,r)):(o=j(e,"yAxis",n,r),u=K(e,"yAxis",n,r)),se(o,u)}},ba=M([ga,ce,we,ze,ya,ye,fa],ia),Aa=(e,a,r)=>{var t=L(e,a);if(t!=null)return j(e,"xAxis",t,r)},Ia=(e,a,r)=>{var t=D(e,a);if(t!=null)return j(e,"yAxis",t,r)},Pa=(e,a,r)=>{var t=L(e,a);if(t!=null)return K(e,"xAxis",t,r)},Ba=(e,a,r)=>{var t=D(e,a);if(t!=null)return K(e,"yAxis",t,r)},ka=M([ba,F],(e,a)=>{if(!(e==null||a==null)){var r=e.find(t=>t.stackId===a.stackId&&a.dataKey!=null&&t.dataKeys.includes(a.dataKey));if(r!=null)return r.position}}),Ea=M([xa,F],na),Sa=M([Se,Ce,Aa,Ia,Pa,Ba,ka,T,Oe,ye,Ea,F,pa],(e,a,r,t,i,n,o,u,f,c,d,g,p)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:m}=f;if(!(g==null||o==null||a==null||u!=="horizontal"&&u!=="vertical"||r==null||t==null||i==null||n==null||c==null)){var{data:A}=g,s;if(A!=null&&A.length>0?s=A:s=y==null?void 0:y.slice(b,m+1),s!=null)return rr({layout:u,barSettings:g,pos:o,parentViewBox:a,bandSize:c,xAxis:r,yAxis:t,xAxisTicks:i,yAxisTicks:n,stackedData:d,displayedData:s,offset:e,cells:p,dataStartIndex:b})}}),Ca=["index"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},X.apply(null,arguments)}function Oa(e,a){if(e==null)return{};var r,t,i=wa(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wa(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var be=l.createContext(void 0),za=e=>{var a=l.useContext(be);if(a!=null)return a.stackId;if(e!=null)return Le(e)},Ma=(e,a)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(a),La=e=>{var a=l.useContext(be);if(a!=null){var{stackId:r}=a;return"url(#".concat(Ma(r,e),")")}},Da=e=>{var{index:a}=e,r=Oa(e,Ca),t=La(a);return l.createElement(R,X({className:"recharts-bar-stack-layer",clipPath:t},r))},ja=["onMouseEnter","onMouseLeave","onClick"],Ka=["value","background","tooltipPosition"],Ta=["id"],Fa=["onMouseEnter","onClick","onMouseLeave"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},O.apply(null,arguments)}function le(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function I(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?le(Object(r),!0).forEach(function(t){Na(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Na(e,a,r){return(a=Ra(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Ra(e){var a=_a(e,"string");return typeof a=="symbol"?a:a+""}function _a(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function G(e,a){if(e==null)return{};var r,t,i=Wa(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wa(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var Ga=e=>{var{dataKey:a,name:r,fill:t,legendType:i,hide:n}=e;return[{inactive:n,dataKey:a,type:i,color:t,value:ve(r,a),payload:e}]},Ua=l.memo(e=>{var{dataKey:a,stroke:r,strokeWidth:t,fill:i,name:n,hide:o,unit:u,tooltipType:f,id:c}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:t,fill:i,dataKey:a,nameKey:void 0,name:ve(n,a),hide:o,type:f,color:i,unit:u,graphicalItemId:c}};return l.createElement(Ne,{tooltipEntrySettings:d})});function Va(e){var a=_(pe),{data:r,dataKey:t,background:i,allOtherBarProps:n}=e,{onMouseEnter:o,onMouseLeave:u,onClick:f}=n,c=G(n,ja),d=xe(o,t,n.id),g=he(u),p=ge(f,t,n.id);if(!i||r==null)return null;var y=Ue(i);return l.createElement(Z,{zIndex:oa(i,Y.barBackground)},r.map((b,m)=>{var{value:A,background:s,tooltipPosition:v}=b,S=G(b,Ka);if(!s)return null;var x=d(b,m),k=g(b,m),h=p(b,m),E=I(I(I(I(I({option:i,isActive:String(m)===a},S),{},{fill:"#eee"},s),y),me(c,b,m)),{},{onMouseEnter:x,onMouseLeave:k,onClick:h,dataKey:t,index:m,className:"recharts-bar-background-rectangle"});return l.createElement(W,O({key:"background-bar-".concat(m)},E))}))}function $a(e){var{showLabels:a,children:r,rects:t}=e,i=t==null?void 0:t.map(n=>{var o={x:n.x,y:n.y,width:n.width,lowerWidth:n.width,upperWidth:n.width,height:n.height};return I(I({},o),{},{value:n.value,payload:n.payload,parentViewBox:n.parentViewBox,viewBox:o,fill:n.fill})});return l.createElement(Ye,{value:a?i:void 0},r)}function Xa(e){var{shape:a,activeBar:r,baseProps:t,entry:i,index:n,dataKey:o}=e,u=_(pe),f=_(qe),c=r&&String(n)===u&&(f==null||o===f),d=c?r:a;return c?l.createElement(Z,{zIndex:Y.activeBar},l.createElement(W,O({},t,{name:String(t.name)},i,{isActive:c,option:d,index:n,dataKey:o}))):l.createElement(W,O({},t,{name:String(t.name)},i,{isActive:c,option:d,index:n,dataKey:o}))}function Ya(e){var{shape:a,baseProps:r,entry:t,index:i,dataKey:n}=e;return l.createElement(W,O({},r,{name:String(r.name)},t,{isActive:!1,option:a,index:i,dataKey:n}))}function Za(e){var a,{data:r,props:t}=e,i=(a=Ze(t))!==null&&a!==void 0?a:{},{id:n}=i,o=G(i,Ta),{shape:u,dataKey:f,activeBar:c}=t,{onMouseEnter:d,onClick:g,onMouseLeave:p}=t,y=G(t,Fa),b=xe(d,f,n),m=he(p),A=ge(g,f,n);return r?l.createElement(l.Fragment,null,r.map((s,v)=>l.createElement(Da,O({index:v,key:"rectangle-".concat(s==null?void 0:s.x,"-").concat(s==null?void 0:s.y,"-").concat(s==null?void 0:s.value,"-").concat(v),className:"recharts-bar-rectangle"},me(y,s,v),{onMouseEnter:b(s,v),onMouseLeave:m(s,v),onClick:A(s,v)}),c?l.createElement(Xa,{shape:u,activeBar:c,baseProps:o,entry:s,index:v,dataKey:f}):l.createElement(Ya,{shape:u,baseProps:o,entry:s,index:v,dataKey:f})))):null}function qa(e){var{props:a,previousRectanglesRef:r}=e,{data:t,layout:i,isAnimationActive:n,animationBegin:o,animationDuration:u,animationEasing:f,onAnimationEnd:c,onAnimationStart:d}=a,g=r.current,p=Ve(a,"recharts-bar-"),[y,b]=l.useState(!1),m=!y,A=l.useCallback(()=>{typeof c=="function"&&c(),b(!1)},[c]),s=l.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return l.createElement($a,{showLabels:m,rects:t},l.createElement($e,{animationId:p,begin:o,duration:u,isActive:n,easing:f,onAnimationEnd:A,onAnimationStart:s,key:p},v=>{var S=v===1?t:t==null?void 0:t.map((x,k)=>{var h=g&&g[k];if(h)return I(I({},x),{},{x:z(h.x,x.x,v),y:z(h.y,x.y,v),width:z(h.width,x.width,v),height:z(h.height,x.height,v)});if(i==="horizontal"){var E=z(0,x.height,v),C=z(x.stackedBarStart,x.y,v);return I(I({},x),{},{y:C,height:E})}var P=z(0,x.width,v),B=z(x.stackedBarStart,x.x,v);return I(I({},x),{},{width:P,x:B})});return v>0&&(r.current=S??null),S==null?null:l.createElement(R,null,l.createElement(Za,{props:a,data:S}))}),l.createElement(Xe,{label:a.label}),a.children)}function Ja(e){var a=l.useRef(null);return l.createElement(qa,{previousRectanglesRef:a,props:e})}var Ae=0,Qa=(e,a)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:fe(e,a)}};class Ha extends l.PureComponent{render(){var{hide:a,data:r,dataKey:t,className:i,xAxisId:n,yAxisId:o,needClip:u,background:f,id:c}=this.props;if(a||r==null)return null;var d=ke("recharts-bar",i),g=c;return l.createElement(R,{className:d,id:c},u&&l.createElement("defs",null,l.createElement(ra,{clipPathId:g,xAxisId:n,yAxisId:o})),l.createElement(R,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},l.createElement(Va,{data:r,dataKey:t,background:f,allOtherBarProps:this.props}),l.createElement(Ja,this.props)))}}var er={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Ae,xAxisId:0,yAxisId:0,zIndex:Y.bar};function ar(e){var{xAxisId:a,yAxisId:r,hide:t,legendType:i,minPointSize:n,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:c,isAnimationActive:d}=e,{needClip:g}=aa(a,r),p=Re(),y=de(),b=_e(e.children,He),m=_(v=>Sa(v,e.id,y,b));if(p!=="vertical"&&p!=="horizontal")return null;var A,s=m==null?void 0:m[0];return s==null||s.height==null||s.width==null?A=0:A=p==="vertical"?s.height/2:s.width/2,l.createElement(ea,{xAxisId:a,yAxisId:r,data:m,dataPointFormatter:Qa,errorBarOffset:A},l.createElement(Ha,O({},e,{layout:p,needClip:g,data:m,xAxisId:a,yAxisId:r,hide:t,legendType:i,minPointSize:n,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:c,isAnimationActive:d})))}function rr(e){var{layout:a,barSettings:{dataKey:r,minPointSize:t},pos:i,bandSize:n,xAxis:o,yAxis:u,xAxisTicks:f,yAxisTicks:c,stackedData:d,displayedData:g,offset:p,cells:y,parentViewBox:b,dataStartIndex:m}=e,A=a==="horizontal"?u:o,s=d?A.scale.domain():null,v=We({numericAxis:A}),S=A.scale(v);return g.map((x,k)=>{var h,E,C,P,B,U;if(d){var q=d[k+m];if(q==null)return null;h=Ge(q,s)}else h=fe(x,r),Array.isArray(h)||(h=[v,h]);var w=ca(t,Ae)(h[1],k);if(a==="horizontal"){var V,[J,N]=[u.scale(h[0]),u.scale(h[1])];E=ne({axis:o,ticks:f,bandSize:n,offset:i.offset,entry:x,index:k}),C=(V=N??J)!==null&&V!==void 0?V:void 0,P=i.size;var Q=J-N;if(B=Je(Q)?0:Q,U={x:E,y:p.top,width:P,height:p.height},Math.abs(w)>0&&Math.abs(B)<Math.abs(w)){var H=ie(B||w)*(Math.abs(w)-Math.abs(B));C-=H,B+=H}}else{var[ee,Ie]=[o.scale(h[0]),o.scale(h[1])];if(E=ee,C=ne({axis:u,ticks:c,bandSize:n,offset:i.offset,entry:x,index:k}),P=Ie-ee,B=i.size,U={x:p.left,y:C,width:p.width,height:B},Math.abs(w)>0&&Math.abs(P)<Math.abs(w)){var Pe=ie(P||w)*(Math.abs(w)-Math.abs(P));P+=Pe}}if(E==null||C==null||P==null||B==null)return null;var Be=I(I({},x),{},{stackedBarStart:S,x:E,y:C,width:P,height:B,value:d?h:h[1],payload:x,background:U,tooltipPosition:{x:E+P/2,y:C+B/2},parentViewBox:b},y&&y[k]&&y[k].props);return Be}).filter(Boolean)}function tr(e){var a=je(e,er),r=za(a.stackId),t=de();return l.createElement(Ke,{id:a.id,type:"bar"},i=>l.createElement(l.Fragment,null,l.createElement(Te,{legendPayload:Ga(a)}),l.createElement(Ua,{dataKey:a.dataKey,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType,id:i}),l.createElement(Fe,{type:"bar",id:i,data:void 0,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,stackId:r,hide:a.hide,barSize:a.barSize,minPointSize:a.minPointSize,maxBarSize:a.maxBarSize,isPanorama:t}),l.createElement(Z,{zIndex:a.zIndex},l.createElement(ar,O({},a,{id:i})))))}var nr=l.memo(tr,De);nr.displayName="Bar";var ir=["axis","item"],vr=l.forwardRef((e,a)=>l.createElement(ta,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ir,tooltipPayloadSearcher:Qe,categoricalChartProps:e,ref:a}));export{vr as B,nr as a};
