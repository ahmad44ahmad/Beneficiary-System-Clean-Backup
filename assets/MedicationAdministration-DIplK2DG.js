import{r as i,j as e,D as d,bF as k,T as h,J as D,c as R,l as F,aZ as O,N as G,K as J,O as K,n as S}from"./index-BOMQ6ZnB.js";const Z=[{id:"1",name:"أنسولين",dosage:"10 وحدات",route:"حقن تحت الجلد",frequency:"قبل الوجبات",scheduledTime:"11:00",status:"pending",beneficiaryName:"محمد العمري",beneficiaryId:"B001",room:"غ-101",preRequirements:["قياس السكر"],allergies:[],interactions:[],specialInstructions:"حقن في البطن"},{id:"2",name:"أملوديبين",dosage:"5 ملغ",route:"فموي",frequency:"مرة يومياً",scheduledTime:"10:30",status:"overdue",beneficiaryName:"فاطمة سعيد",beneficiaryId:"B002",room:"غ-102",preRequirements:["قياس الضغط"],allergies:["البنسلين"],interactions:[],delayMinutes:45},{id:"3",name:"ميتفورمين",dosage:"500 ملغ",route:"فموي",frequency:"مرتين يومياً",scheduledTime:"11:30",status:"pending",beneficiaryName:"خالد الدوسري",beneficiaryId:"B003",room:"غ-107",preRequirements:[],allergies:[],interactions:["تجنب الكحول"],specialInstructions:"مع الطعام"},{id:"4",name:"وارفارين",dosage:"2.5 ملغ",route:"فموي",frequency:"مرة يومياً",scheduledTime:"12:00",status:"pending",beneficiaryName:"نورة محمد",beneficiaryId:"B004",room:"غ-104",preRequirements:["فحص INR أسبوعي"],allergies:[],interactions:["تجنب فيتامين ك"],specialInstructions:"مراقبة النزيف"}],_={pending:{color:"blue",bgColor:"bg-blue-500/20",borderColor:"border-blue-500/50",label:"قيد الانتظار"},overdue:{color:"red",bgColor:"bg-red-500/20",borderColor:"border-red-500/50",label:"متأخر"},administered:{color:"green",bgColor:"bg-green-500/20",borderColor:"border-green-500/50",label:"تم الإعطاء"},skipped:{color:"yellow",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-500/50",label:"تم التخطي"},refused:{color:"orange",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/50",label:"رفض"}},L=()=>{const[x,p]=i.useState(Z),[q,c]=i.useState(null),[u,I]=i.useState(""),[o,T]=i.useState(!1),[m,g]=i.useState({}),[z,M]=i.useState(""),A=x.filter(s=>s.status==="pending").length,b=x.filter(s=>s.status==="overdue").length,j=x.filter(s=>{const r=s.beneficiaryName.includes(u)||s.name.includes(u),t=o||s.status==="pending"||s.status==="overdue";return r&&t}),$=s=>{p(r=>r.map(t=>t.id===s?{...t,status:"administered"}:t)),c(null),g({}),M("")},B=(s,r)=>{p(t=>t.map(l=>l.id===s?{...l,status:"skipped"}:l)),c(null)},P=s=>{p(r=>r.map(t=>t.id===s?{...t,status:"refused"}:t)),c(null)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-6",dir:"rtl",children:[e.jsx(d.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(k,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"شاشة إعطاء الأدوية"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"الحقوق الخمسة للإعطاء الآمن"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[b>0&&e.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl px-4 py-2 flex items-center gap-2 animate-pulse",children:[e.jsx(h,{className:"w-5 h-5 text-red-400"}),e.jsxs("span",{className:"text-red-400 font-medium",children:[b," متأخر"]})]}),e.jsx("div",{className:"bg-blue-500/20 border border-blue-500/50 rounded-xl px-4 py-2",children:e.jsxs("span",{className:"text-blue-400 font-medium",children:[A," قيد الانتظار"]})})]})]})}),e.jsx(d.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-r from-purple-900/50 to-indigo-900/50 rounded-2xl p-4 mb-6 border border-purple-500/30",children:e.jsx("p",{className:"text-purple-300 text-sm text-center",children:"✓ المريض الصحيح • ✓ الدواء الصحيح • ✓ الجرعة الصحيحة • ✓ الطريق الصحيح • ✓ الوقت الصحيح"})}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(D,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),e.jsx("input",{type:"text",placeholder:"البحث بالاسم أو الدواء...",value:u,onChange:s=>I(s.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-xl pr-10 pl-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-purple-500"})]}),e.jsx("button",{onClick:()=>T(!o),className:`px-4 py-2 rounded-xl transition-colors ${o?"bg-purple-500 text-white":"bg-slate-800 text-slate-400"}`,children:o?"إخفاء المكتملة":"عرض الكل"})]}),e.jsx("div",{className:"space-y-4",children:j.map((s,r)=>{var f,y,v,w,C;const t=_[s.status],l=q===s.id,N=!((f=s.preRequirements)!=null&&f.length)||s.preRequirements.every(a=>m[a]);return e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},className:`rounded-2xl border-2 ${t.borderColor} ${t.bgColor} overflow-hidden ${s.status==="overdue"?"ring-2 ring-red-500/50":""}`,children:[e.jsx("div",{className:"p-4 cursor-pointer",onClick:()=>c(l?null:s.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500/30 rounded-xl flex items-center justify-center",children:e.jsx(k,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-white text-lg",children:s.name}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t.bgColor} text-${t.color}-400`,children:t.label}),s.delayMinutes&&e.jsxs("span",{className:"text-red-400 text-xs flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),"متأخر ",s.delayMinutes," دقيقة"]})]}),e.jsxs("p",{className:"text-slate-400 text-sm",children:[s.dosage," - ",s.route]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-slate-500 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"w-3 h-3"}),s.beneficiaryName]}),e.jsx("span",{children:s.room}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),s.scheduledTime]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[s.allergies&&s.allergies.length>0&&e.jsx("div",{className:"bg-red-500/20 p-2 rounded-lg",title:"حساسية",children:e.jsx(h,{className:"w-5 h-5 text-red-400"})}),l?e.jsx(O,{className:"w-5 h-5"}):e.jsx(G,{className:"w-5 h-5"})]})]})}),e.jsx(J,{children:l&&e.jsx(d.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-slate-700",children:e.jsxs("div",{className:"p-4 space-y-4",children:[(((y=s.allergies)==null?void 0:y.length)||((v=s.interactions)==null?void 0:v.length))&&e.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 rounded-xl p-3 space-y-2",children:[(w=s.allergies)==null?void 0:w.map((a,n)=>e.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["حساسية: ",a]})]},n)),(C=s.interactions)==null?void 0:C.map((a,n)=>e.jsxs("div",{className:"flex items-center gap-2 text-orange-400",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:a})]},n))]}),s.preRequirements&&s.preRequirements.length>0&&e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-3",children:"متطلبات ما قبل الإعطاء:"}),e.jsx("div",{className:"space-y-2",children:s.preRequirements.map((a,n)=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m[a]||!1,onChange:E=>g(U=>({...U,[a]:E.target.checked})),className:"w-5 h-5 rounded border-slate-600 text-purple-500 focus:ring-purple-500"}),e.jsx("span",{className:m[a]?"text-green-400":"text-white",children:a})]},n))})]}),s.specialInstructions&&e.jsx("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-xl p-3",children:e.jsxs("p",{className:"text-purple-300 text-sm",children:[e.jsx("strong",{children:"تعليمات خاصة:"})," ",s.specialInstructions]})}),(s.status==="pending"||s.status==="overdue")&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>$(s.id),disabled:!N,className:`flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors ${N?"bg-green-500 hover:bg-green-600 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:[e.jsx(S,{className:"w-5 h-5"}),"تم الإعطاء"]}),e.jsx("button",{onClick:()=>B(s.id),className:"px-4 py-3 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-xl font-medium transition-colors",children:"تخطي"}),e.jsx("button",{onClick:()=>P(s.id),className:"px-4 py-3 bg-orange-500/20 hover:bg-orange-500/30 text-orange-400 rounded-xl font-medium transition-colors",children:"رفض"})]})]})})})]},s.id)})}),j.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(S,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"تم إعطاء جميع الأدوية"}),e.jsx("p",{className:"text-slate-400",children:"لا توجد أدوية معلقة حالياً"})]})]})};export{L as MedicationAdministration,L as default};
