import{r as x,j as e,X as C,an as I,q as S,P as k,ao as D,ap as A,aq as F,U as T,J as O,aj as $,b as P}from"./index-BOMQ6ZnB.js";const U=({onSubmit:d,onClose:u})=>{const[t,b]=x.useState({date:new Date().toISOString().split("T")[0],subject:"",sender:"",receiverDept:"",letterNumber:"",priority:"normal",notes:"",attachmentUrl:""}),m=c=>{c.preventDefault(),d(t)},a=c=>{const{name:g,value:p}=c.target;b(o=>({...o,[g]:p}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"تسجيل بريد وارد جديد"}),e.jsx("button",{onClick:u,className:"text-gray-500 hover:text-gray-700",children:e.jsx(C,{size:24})})]}),e.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ الوارد"}),e.jsx("input",{type:"date",name:"date",value:t.date,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الخطاب"}),e.jsx("input",{type:"text",name:"letterNumber",value:t.letterNumber,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"رقم الخطاب الخارجي"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الجهة المرسلة"}),e.jsx("input",{type:"text",name:"sender",value:t.sender,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"مثال: وزارة الموارد البشرية"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الجهة المحال إليها"}),e.jsxs("select",{name:"receiverDept",value:t.receiverDept,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"ختر القسم"}),e.jsx("option",{value:"director",children:"مدير المركز"}),e.jsx("option",{value:"medical",children:"القسم الطبي"}),e.jsx("option",{value:"social",children:"الخدمة الاجتماعية"}),e.jsx("option",{value:"rehab",children:"التأهيل والعلاج الطبيعي"}),e.jsx("option",{value:"hr",children:"الموارد البشرية"}),e.jsx("option",{value:"finance",children:"المالية"}),e.jsx("option",{value:"quality",children:"الجودة"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الأهمية"}),e.jsxs("select",{name:"priority",value:t.priority,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"normal",children:"عادي"}),e.jsx("option",{value:"urgent",children:"عاجل"}),e.jsx("option",{value:"top_urgent",children:"عاجل جداً"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الموضوع"}),e.jsx("input",{type:"text",name:"subject",value:t.subject,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"عنوان أو ملخص الخطاب"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ملاحظات"}),e.jsx("textarea",{name:"notes",value:t.notes,onChange:a,rows:3,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"المرفقات"}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(I,{className:"w-8 h-8 mb-4 text-gray-500"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"اضغط للتحميل"})," أو اسحب الملف هنا"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, JPG, PNG (MAX. 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"إلغاء"}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:[e.jsx(S,{size:18,className:"ml-2"}),"حفظ"]})]})]})]})})},E=({onSubmit:d,onClose:u})=>{const[t,b]=x.useState({date:new Date().toISOString().split("T")[0],subject:"",destination:"",senderDept:"",letterNumber:"",priority:"normal",notes:"",attachmentUrl:""}),m=c=>{c.preventDefault(),d(t)},a=c=>{const{name:g,value:p}=c.target;b(o=>({...o,[g]:p}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"تسجيل بريد صادر جديد"}),e.jsx("button",{onClick:u,className:"text-gray-500 hover:text-gray-700",children:e.jsx(C,{size:24})})]}),e.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ الصادر"}),e.jsx("input",{type:"date",name:"date",value:t.date,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم الخطاب (المرجع الداخلي)"}),e.jsx("input",{type:"text",name:"letterNumber",value:t.letterNumber,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"رقم وتاريخ الخطاب"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الجهة الصادر منها"}),e.jsxs("select",{name:"senderDept",value:t.senderDept,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"ختر القسم"}),e.jsx("option",{value:"director",children:"مدير المركز"}),e.jsx("option",{value:"medical",children:"القسم الطبي"}),e.jsx("option",{value:"social",children:"الخدمة الاجتماعية"}),e.jsx("option",{value:"rehab",children:"التأهيل والعلاج الطبيعي"}),e.jsx("option",{value:"hr",children:"الموارد البشرية"}),e.jsx("option",{value:"finance",children:"المالية"}),e.jsx("option",{value:"quality",children:"الجودة"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الجهة المرسل إليها"}),e.jsx("input",{type:"text",name:"destination",value:t.destination,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"مثال: الشؤون الصحية بمنطقة..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الأهمية"}),e.jsxs("select",{name:"priority",value:t.priority,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"normal",children:"عادي"}),e.jsx("option",{value:"urgent",children:"عاجل"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الموضوع"}),e.jsx("input",{type:"text",name:"subject",value:t.subject,onChange:a,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"عنوان أو ملخص الخطاب"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ملاحظات"}),e.jsx("textarea",{name:"notes",value:t.notes,onChange:a,rows:3,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"نسخة من الخطاب (اختياري)"}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(I,{className:"w-8 h-8 mb-4 text-gray-500"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"اضغط للتحميل"})," أو اسحب الملف هنا"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, JPG (MAX. 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"إلغاء"}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:[e.jsx(S,{size:18,className:"ml-2"}),"حفظ"]})]})]})]})})},_=({onSubmit:d,onClose:u})=>{const[t,b]=x.useState({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),location:"",agenda:"",decisions:""}),[m,a]=x.useState([""]),[c,g]=x.useState([{task:"",assignee:"",dueDate:""}]),p=l=>{l.preventDefault();const r=m.filter(i=>i.trim()!==""),n=c.filter(i=>i.task.trim()!=="").map(i=>({...i,status:"pending"}));d({...t,attendees:r,actionItems:n})},o=l=>{const{name:r,value:n}=l.target;b(i=>({...i,[r]:n}))},f=(l,r)=>{const n=[...m];n[l]=r,a(n)},v=()=>a([...m,""]),y=l=>{const r=m.filter((n,i)=>i!==l);a(r.length?r:[""])},j=(l,r,n)=>{const i=[...c];i[l]={...i[l],[r]:n},g(i)},N=()=>g([...c,{task:"",assignee:"",dueDate:""}]),w=l=>{const r=c.filter((n,i)=>i!==l);g(r.length?r:[{task:"",assignee:"",dueDate:""}])};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"تسجيل محضر اجتماع"}),e.jsx("button",{onClick:u,className:"text-gray-500 hover:text-gray-700",children:e.jsx(C,{size:24})})]}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"التاريخ"}),e.jsx("input",{type:"date",name:"date",value:t.date,onChange:o,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الوقت"}),e.jsx("input",{type:"time",name:"time",value:t.time,onChange:o,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"المكان"}),e.jsx("input",{type:"text",name:"location",value:t.location,onChange:o,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"قاعة الاجتماعات، مكتب المدير..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"أجندة الاجتماع (المواضيع)"}),e.jsx("textarea",{name:"agenda",value:t.agenda,onChange:o,rows:4,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:`- مناقشة الخطة السنوية
- مراجعة تقارير الأداء...`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"التوصيات والقرارات"}),e.jsx("textarea",{name:"decisions",value:t.decisions,onChange:o,rows:4,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"تم الاتفاق على..."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-3 flex items-center",children:["الحضور",e.jsxs("button",{type:"button",onClick:v,className:"mr-auto text-sm bg-blue-100 text-blue-600 px-2 py-1 rounded hover:bg-blue-200 flex items-center",children:[e.jsx(k,{size:14,className:"ml-1"}),"إضافة"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:m.map((l,r)=>e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:l,onChange:n=>f(r,n.target.value),className:"flex-1 p-2 border rounded-r-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:`اسم الحاضر ${r+1}`,required:!0}),e.jsx("button",{type:"button",onClick:()=>y(r),className:"bg-red-50 text-red-500 px-3 border border-l-0 rounded-l-md hover:bg-red-100",children:e.jsx(D,{size:16})})]},r))})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-3 flex items-center",children:["المهام والتكليفات",e.jsxs("button",{type:"button",onClick:N,className:"mr-auto text-sm bg-blue-100 text-blue-600 px-2 py-1 rounded hover:bg-blue-200 flex items-center",children:[e.jsx(k,{size:14,className:"ml-1"}),"إضافة مهمة"]})]}),e.jsx("div",{className:"space-y-3",children:c.map((l,r)=>e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start border-b pb-3 last:border-0 last:pb-0",children:[e.jsx("div",{className:"flex-1 w-full",children:e.jsx("input",{type:"text",value:l.task,onChange:n=>j(r,"task",n.target.value),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"المهمة المطلوبة",required:!0})}),e.jsx("div",{className:"w-full md:w-1/4",children:e.jsx("input",{type:"text",value:l.assignee,onChange:n=>j(r,"assignee",n.target.value),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"المسؤول"})}),e.jsx("div",{className:"w-full md:w-1/5",children:e.jsx("input",{type:"date",value:l.dueDate,onChange:n=>j(r,"dueDate",n.target.value),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),e.jsx("button",{type:"button",onClick:()=>w(r),className:"text-red-500 hover:text-red-700 p-2",children:e.jsx(D,{size:18})})]},r))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"إلغاء"}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:[e.jsx(S,{size:18,className:"ml-2"}),"حفظ"]})]})]})]})})},J=()=>{const[d,u]=x.useState("incoming"),[t,b]=x.useState(""),[m,a]=x.useState(!1),[c,g]=x.useState(!1),[p,o]=x.useState(!1),[f,v]=x.useState([{id:"1",date:"2024-03-10",subject:"تعميم بخصوص إجازة عيد الفطر",sender:"وزارة الموارد البشرية",receiverDept:"director",letterNumber:"HR-2024-105",priority:"normal",status:"pending",notes:"للاطلاع والتعميم"},{id:"2",date:"2024-03-12",subject:"طلب تقرير طبي للمستفيد أحمد",sender:"مستشفى الملك فهد",receiverDept:"medical",letterNumber:"MED-992",priority:"urgent",status:"processed"}]),[y,j]=x.useState([{id:"1",date:"2024-03-11",subject:"الرفع باحتياجات المركز للربع الثاني",destination:"الإدارة العامة بمنطقة الرياض",senderDept:"director",letterNumber:"CEN-2024-55",priority:"normal",status:"sent"}]),[N,w]=x.useState([{id:"1",date:"2024-03-01",time:"10:00",location:"قاعة الاجتماعات الرئيسية",attendees:["المدير العام","رئيس القسم الطبي","رئيس الخدمة الاجتماعية"],agenda:"مناقشة خطة قبول المستفيدين الجدد",decisions:"تمت الموافقة على قبول 5 حالات جديدة",actionItems:[{task:"إعداد ملفات الحالات الجديدة",assignee:"رئيس الخدمة الاجتماعية",dueDate:"2024-03-15",status:"pending"},{task:"تجهيز الأسرة",assignee:"مشرف السكن",dueDate:"2024-03-14",status:"completed"}]}]),l=s=>{const h={...s,id:Math.random().toString(36).substr(2,9),status:"pending"};v([h,...f]),a(!1)},r=s=>{const h={...s,id:Math.random().toString(36).substr(2,9),status:"draft"};j([h,...y]),g(!1)},n=s=>{const h={...s,id:Math.random().toString(36).substr(2,9)};w([h,...N]),o(!1)},i=()=>e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رقم الخطاب"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الجهة المرسلة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الموضوع"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الأهمية"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.filter(s=>s.subject.includes(t)||s.letterNumber.includes(t)).map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.letterNumber}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.sender}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.subject}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                  ${s.priority==="urgent"?"bg-red-100 text-red-800":s.priority==="top_urgent"?"bg-red-200 text-red-900":"bg-green-100 text-green-800"}`,children:s.priority==="urgent"?"عاجل":s.priority==="top_urgent"?"عاجل جداً":"عادي"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                  ${s.status==="processed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:s.status==="processed"?"تمت المعالجة":"قيد الانتظار"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:e.jsx($,{size:18})})})]},s.id))})]})}),M=()=>e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الجهة المرسل إليها"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الموضوع"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"القسم المرسل"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الأهمية"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.destination}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.subject}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.senderDept}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                  ${s.priority==="urgent"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:s.priority==="urgent"?"عاجل":"عادي"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                  ${s.status==="sent"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status==="sent"?"تم الإرسال":"مسودة"})})]},s.id))})]})}),q=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(P,{size:18,className:"ml-2"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.date," | ",s.time]})]}),e.jsx("div",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:s.location})]}),e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",title:s.agenda,children:[s.agenda.split(`
`)[0],"..."]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"قرارات:"}),e.jsx("p",{className:"text-sm text-gray-800 line-clamp-2",children:s.decisions})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:["المهام (",s.actionItems.length,")"]}),e.jsxs("ul",{className:"space-y-2",children:[s.actionItems.slice(0,2).map((h,z)=>e.jsxs("li",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"truncate flex-1 ml-2",children:h.task}),e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full ${h.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:h.status==="completed"?"منجز":"قيد التنفيذ"})]},z)),s.actionItems.length>2&&e.jsxs("li",{className:"text-xs text-blue-600 text-center cursor-pointer",children:["+",s.actionItems.length-2," مهام إضافية"]})]})]})]},s.id))});return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"السكرتارية الإدارية"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"تتبع المراسلات والاجتماعات الإدارية"})]}),e.jsxs("button",{onClick:()=>{d==="incoming"?a(!0):d==="outgoing"?g(!0):o(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[e.jsx(k,{size:20,className:"ml-2"}),d==="incoming"?"تسجيل وارد جديد":d==="outgoing"?"تسجيل صادر جديد":"تسجيل محضر اجتماع"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-1 shadow-sm inline-flex",children:[e.jsxs("button",{onClick:()=>u("incoming"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all ${d==="incoming"?"bg-blue-50 text-blue-700 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(A,{size:18,className:"ml-2"}),"البريد الوارد"]}),e.jsxs("button",{onClick:()=>u("outgoing"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all ${d==="outgoing"?"bg-blue-50 text-blue-700 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(F,{size:18,className:"ml-2"}),"البريد الصادر"]}),e.jsxs("button",{onClick:()=>u("meetings"),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all ${d==="meetings"?"bg-blue-50 text-blue-700 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(T,{size:18,className:"ml-2"}),"الاجتماعات والمحاضر"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"بحث في السجلات...",className:"w-full pl-4 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:t,onChange:s=>b(s.target.value)})]}),e.jsxs("div",{className:"min-h-[500px]",children:[d==="incoming"&&i(),d==="outgoing"&&M(),d==="meetings"&&q()]}),m&&e.jsx(U,{onClose:()=>a(!1),onSubmit:l}),c&&e.jsx(E,{onClose:()=>g(!1),onSubmit:r}),p&&e.jsx(_,{onClose:()=>o(!1),onSubmit:n})]})};export{J as SecretariatDashboard};
