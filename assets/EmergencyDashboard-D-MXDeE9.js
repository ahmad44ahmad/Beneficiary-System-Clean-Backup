import{r as c,A as b,bf as h,Z as g,T as j,d as u,j as e,D as l,b8 as x,n as m,l as p,a_ as N,R as f,U as v,bc as y}from"./index-BOMQ6ZnB.js";const w={code_blue:{icon:u,color:"text-blue-400",bgColor:"bg-blue-500",label:"كود أزرق",protocol:["اتصل بفريق الإنعاش","ابدأ الإنعاش القلبي","جهز الصدمات الكهربائية","أمّن مجرى التنفس"]},fall:{icon:j,color:"text-orange-400",bgColor:"bg-orange-500",label:"سقوط",protocol:["لا تحرك المصاب","افحص الوعي والإصابات","اتصل بالطبيب","وثّق الحادثة"]},fire:{icon:g,color:"text-red-400",bgColor:"bg-red-500",label:"حريق",protocol:["فعّل إنذار الحريق","أخلِ المنطقة","اتصل بالدفاع المدني","استخدم مطفأة الحريق"]},choking:{icon:h,color:"text-purple-400",bgColor:"bg-purple-500",label:"اختناق",protocol:["طبّق مناورة هايملخ","اتصل بالطوارئ","راقب التنفس","جهز الإنعاش"]},seizure:{icon:b,color:"text-cyan-400",bgColor:"bg-cyan-500",label:"نوبة صرع",protocol:["أمّن المريض من السقوط","لا تقيّد الحركة","سجّل مدة النوبة","اتصل بالطبيب"]}},C={id:"ER001",type:"code_blue",status:"active",beneficiaryName:"محمد أحمد العمري",beneficiaryId:"B001",location:"غرفة 101 - جناح الذكور",startTime:new Date(Date.now()-18e4),reportedBy:"نايف الغامدي",vitals:{bp:"80/50",hr:45,spo2:85,temp:36.2},responseTeam:[{name:"د. محمد بلال",role:"طبيب",status:"responding"},{name:"نايف الغامدي",role:"ممرض",status:"arrived"},{name:"سارة أحمد",role:"ممرضة",status:"notified"}]},S=({startTime:t})=>{const[n,d]=c.useState(0);c.useEffect(()=>{const s=setInterval(()=>{d(Math.floor((Date.now()-t.getTime())/1e3))},1e3);return()=>clearInterval(s)},[t]);const r=Math.floor(n/60),o=n%60;return e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-6xl font-bold tabular-nums text-white",children:[String(r).padStart(2,"0"),":",String(o).padStart(2,"0")]}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"الوقت المنقضي"})]})},k=()=>{const[t]=c.useState(C),[n,d]=c.useState([]),r=w[t.type],o=s=>{d(a=>a.includes(s)?a.filter(i=>i!==s):[...a,s])};return e.jsxs("div",{className:"min-h-screen bg-slate-900 text-white relative overflow-hidden",dir:"rtl",children:[e.jsx(l.div,{className:`absolute inset-0 ${r.bgColor} opacity-20`,animate:{opacity:[.1,.25,.1]},transition:{duration:1.5,repeat:1/0}}),e.jsxs("div",{className:"relative z-10 p-6",children:[e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 ${r.bgColor} rounded-2xl flex items-center justify-center shadow-lg animate-pulse`,children:e.jsx(r.icon,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:r.label}),e.jsx("p",{className:"text-slate-400",children:"حالة طوارئ نشطة"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-xl font-bold flex items-center gap-2 animate-pulse",children:[e.jsx(x,{className:"w-5 h-5"}),"اتصال طوارئ"]}),e.jsxs("button",{className:"px-6 py-3 bg-green-600 hover:bg-green-700 rounded-xl font-bold flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5"}),"إنهاء الطوارئ"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-800/80 backdrop-blur-sm rounded-2xl p-8 border border-slate-700 text-center",children:[e.jsx(S,{startTime:t.startTime}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[e.jsx("p",{className:"text-slate-500 text-sm",children:"النافذة الذهبية: 4 دقائق"}),e.jsx("div",{className:"h-2 bg-slate-700 rounded-full mt-2 overflow-hidden",children:e.jsx(l.div,{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:240,ease:"linear"}})})]})]}),e.jsxs(l.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"bg-slate-800/80 backdrop-blur-sm rounded-2xl p-6 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(p,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"font-bold text-lg",children:"معلومات المستفيد"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"الاسم"}),e.jsx("span",{className:"font-bold",children:t.beneficiaryName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"الرقم"}),e.jsx("span",{children:t.beneficiaryId})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-400",children:"الموقع"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-4 h-4 text-red-400"}),t.location]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"أبلغ عنها"}),e.jsx("span",{children:t.reportedBy})]})]})]}),t.vitals&&e.jsxs(l.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},className:"bg-slate-800/80 backdrop-blur-sm rounded-2xl p-6 border border-red-500/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(b,{className:"w-5 h-5 text-red-400"}),e.jsx("h3",{className:"font-bold text-lg",children:"العلامات الحيوية"}),e.jsx("span",{className:"text-red-400 text-xs animate-pulse",children:"مباشر"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-red-900/30 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"الضغط"}),e.jsx("p",{className:"text-xl font-bold text-red-400",children:t.vitals.bp})]}),e.jsxs("div",{className:"bg-red-900/30 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"النبض"}),e.jsx("p",{className:"text-xl font-bold text-red-400",children:t.vitals.hr})]}),e.jsxs("div",{className:"bg-red-900/30 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"الأكسجين"}),e.jsxs("p",{className:"text-xl font-bold text-red-400",children:[t.vitals.spo2,"%"]})]}),e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"الحرارة"}),e.jsxs("p",{className:"text-xl font-bold",children:[t.vitals.temp,"°C"]})]})]})]})]}),e.jsxs(l.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"bg-slate-800/80 backdrop-blur-sm rounded-2xl p-6 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(f,{className:"w-5 h-5 text-amber-400"}),e.jsx("h3",{className:"font-bold text-lg",children:"بروتوكول الاستجابة"})]}),e.jsx("div",{className:"space-y-4",children:r.protocol.map((s,a)=>{const i=n.includes(a);return e.jsxs(l.button,{onClick:()=>o(a),className:`w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all ${i?"bg-green-500/20 border-green-500/50":"bg-slate-700/50 border-slate-600 hover:border-amber-500/50"}`,whileTap:{scale:.98},children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i?"bg-green-500 text-white":"bg-slate-600 text-slate-300"}`,children:i?e.jsx(m,{className:"w-5 h-5"}):a+1}),e.jsx("span",{className:`flex-1 text-right font-medium ${i?"line-through text-slate-400":"text-white"}`,children:s})]},a)})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-slate-700",children:e.jsxs("p",{className:"text-slate-400 text-sm text-center",children:[n.length,"/",r.protocol.length," خطوات مكتملة"]})})]}),e.jsxs(l.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"bg-slate-800/80 backdrop-blur-sm rounded-2xl p-6 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(v,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"font-bold text-lg",children:"فريق الاستجابة"})]}),e.jsx("div",{className:"space-y-4",children:t.responseTeam.map((s,a)=>e.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:a*.1},className:`flex items-center gap-4 p-4 rounded-xl border ${s.status==="arrived"?"bg-green-500/20 border-green-500/50":s.status==="responding"?"bg-yellow-500/20 border-yellow-500/50":"bg-slate-700/50 border-slate-600"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s.status==="arrived"?"bg-green-500":s.status==="responding"?"bg-yellow-500":"bg-slate-600"}`,children:e.jsx(p,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold",children:s.name}),e.jsx("p",{className:"text-slate-400 text-sm",children:s.role})]}),e.jsx("div",{className:"text-left",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="arrived"?"bg-green-500/30 text-green-300":s.status==="responding"?"bg-yellow-500/30 text-yellow-300":"bg-slate-600 text-slate-300"}`,children:s.status==="arrived"?"وصل":s.status==="responding"?"في الطريق":"تم إبلاغه"})})]},a))}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("button",{className:"w-full py-3 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[e.jsx(y,{className:"w-5 h-5"}),"استدعاء دعم إضافي"]}),e.jsxs("button",{className:"w-full py-3 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[e.jsx(x,{className:"w-5 h-5"}),"اتصال بالإسعاف"]})]})]})]})]})]})};export{k as EmergencyDashboard,k as default};
