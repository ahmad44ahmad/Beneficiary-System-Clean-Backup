import{r as l,j as e,D as n,bL as R,n as u,F as E,l as P,bF as f,T as N,A as D,c as y,d as F,P as G,K as L,X as j,aq as O,bM as H,aZ as M,N as U}from"./index-BOMQ6ZnB.js";const m={critical:{icon:N,color:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/50",label:"حرج"},medication:{icon:f,color:"text-purple-400",bgColor:"bg-purple-500/20",borderColor:"border-purple-500/50",label:"أدوية"},care:{icon:F,color:"text-pink-400",bgColor:"bg-pink-500/20",borderColor:"border-pink-500/50",label:"رعاية"},pending:{icon:y,color:"text-yellow-400",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-500/50",label:"معلق"}},q={shiftType:"morning",startTime:"07:00",endTime:"15:00",staffName:"نايف الغامدي",totalBeneficiaries:145,medicationsGiven:48,incidentsReported:1,assessmentsCompleted:32},z=[{id:"1",category:"critical",title:"مستفيد بحالة غير مستقرة",description:"محمد العمري - حرارة مرتفعة 38.5، يحتاج مراقبة كل ساعة",beneficiaryName:"محمد العمري",beneficiaryId:"B001",priority:"high",createdAt:"14:30",createdBy:"نايف الغامدي"},{id:"2",category:"medication",title:"تأجيل دواء",description:"دواء الضغط لفاطمة سعيد - أُجل لموعد المساء بسبب الإجراء الطبي",beneficiaryName:"فاطمة سعيد",beneficiaryId:"B002",priority:"medium",createdAt:"13:45",createdBy:"نايف الغامدي"},{id:"3",category:"care",title:"طلب خاص للتغذية",description:"خالد الدوسري طلب تغيير نوع الوجبة - تم التنسيق مع المطبخ",beneficiaryName:"خالد الدوسري",beneficiaryId:"B003",priority:"low",createdAt:"12:00",createdBy:"نايف الغامدي"},{id:"4",category:"pending",title:"فحص مخبري معلق",description:"نتائج فحص الدم لنورة محمد - متوقع وصولها قبل المغرب",beneficiaryName:"نورة محمد",beneficiaryId:"B004",priority:"medium",createdAt:"11:30",createdBy:"نايف الغامدي"},{id:"5",category:"critical",title:"سقوط بسيط - مراقبة",description:"سعود العتيبي سقط صباحاً - فحص طبي تم ولا توجد إصابات، يحتاج مراقبة 24 ساعة",beneficiaryName:"سعود العتيبي",beneficiaryId:"B005",priority:"high",createdAt:"10:15",createdBy:"نايف الغامدي"}],X=()=>{const[i,h]=l.useState(z),[r]=l.useState(q),[o,p]=l.useState("all"),[v,x]=l.useState(!1),[c,d]=l.useState({category:"care",title:"",description:"",beneficiaryName:""}),[b,w]=l.useState(!1),[C,I]=l.useState(null),A=i.filter(t=>o==="all"||t.category===o),S={critical:i.filter(t=>t.category==="critical").length,medication:i.filter(t=>t.category==="medication").length,care:i.filter(t=>t.category==="care").length,pending:i.filter(t=>t.category==="pending").length},B=()=>{if(!c.title||!c.description)return;const t={id:Date.now().toString(),...c,priority:"medium",createdAt:new Date().toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"}),createdBy:"المستخدم الحالي"};h(s=>[t,...s]),d({category:"care",title:"",description:"",beneficiaryName:""}),x(!1)},$=t=>{h(s=>s.filter(a=>a.id!==t))},k=t=>{switch(t){case"morning":return"الوردية الصباحية";case"evening":return"الوردية المسائية";case"night":return"الوردية الليلية";default:return""}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-6",dir:"rtl",children:[e.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(R,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"تسليم الوردية الذكية"}),e.jsxs("p",{className:"text-slate-400 text-sm",children:[k(r.shiftType)," • ",r.startTime," - ",r.endTime]})]})]}),!b&&e.jsxs("button",{onClick:()=>w(!0),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl font-bold flex items-center gap-2 hover:opacity-90 transition-opacity",children:[e.jsx(u,{className:"w-5 h-5"}),"تأكيد الاستلام"]})]})}),e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-r from-amber-900/30 to-orange-900/30 rounded-2xl p-6 mb-6 border border-amber-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5 text-amber-400"}),"ملخص الوردية"]}),e.jsxs("span",{className:"text-slate-400 text-sm",children:["بواسطة: ",r.staffName]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 text-center",children:[e.jsx(P,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold",children:r.totalBeneficiaries}),e.jsx("p",{className:"text-slate-400 text-sm",children:"مستفيد"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 text-center",children:[e.jsx(f,{className:"w-6 h-6 text-purple-400 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold",children:r.medicationsGiven}),e.jsx("p",{className:"text-slate-400 text-sm",children:"دواء أُعطي"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 text-center",children:[e.jsx(N,{className:"w-6 h-6 text-red-400 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold",children:r.incidentsReported}),e.jsx("p",{className:"text-slate-400 text-sm",children:"حادثة"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 text-center",children:[e.jsx(D,{className:"w-6 h-6 text-green-400 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold",children:r.assessmentsCompleted}),e.jsx("p",{className:"text-slate-400 text-sm",children:"تقييم"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mb-6 flex-wrap",children:[e.jsxs("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-xl flex items-center gap-2 transition-colors ${o==="all"?"bg-blue-500 text-white":"bg-slate-800 text-slate-400"}`,children:["الكل (",i.length,")"]}),Object.entries(m).map(([t,s])=>e.jsxs("button",{onClick:()=>p(t),className:`px-4 py-2 rounded-xl flex items-center gap-2 transition-colors ${o===t?`${s.bgColor} ${s.color}`:"bg-slate-800 text-slate-400"}`,children:[e.jsx(s.icon,{className:"w-4 h-4"}),s.label," (",S[t],")"]},t)),e.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 rounded-xl bg-green-500/20 text-green-400 flex items-center gap-2 hover:bg-green-500/30 transition-colors mr-auto",children:[e.jsx(G,{className:"w-4 h-4"}),"إضافة بند"]})]}),e.jsx(L,{children:v&&e.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-slate-800/50 rounded-2xl p-6 mb-6 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold",children:"إضافة بند جديد"}),e.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-700 rounded-lg",children:e.jsx(j,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2",children:Object.entries(m).map(([t,s])=>e.jsxs("button",{onClick:()=>d(a=>({...a,category:t})),className:`px-3 py-2 rounded-lg flex items-center gap-2 transition-colors ${c.category===t?`${s.bgColor} ${s.color} border ${s.borderColor}`:"bg-slate-700 text-slate-400"}`,children:[e.jsx(s.icon,{className:"w-4 h-4"}),s.label]},t))}),e.jsx("input",{type:"text",placeholder:"عنوان البند...",value:c.title,onChange:t=>d(s=>({...s,title:t.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-amber-500"}),e.jsx("textarea",{placeholder:"التفاصيل...",value:c.description,onChange:t=>d(s=>({...s,description:t.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-amber-500 h-24 resize-none"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:B,className:"flex-1 py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[e.jsx(O,{className:"w-5 h-5"}),"إضافة"]}),e.jsx("button",{className:"p-3 bg-slate-700 hover:bg-slate-600 rounded-xl transition-colors",title:"تسجيل صوتي",children:e.jsx(H,{className:"w-5 h-5"})})]})]})]})}),e.jsx("div",{className:"space-y-3",children:A.map((t,s)=>{const a=m[t.category],g=C===t.id;return e.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.05},className:`rounded-2xl border-2 ${a.borderColor} ${a.bgColor} overflow-hidden`,children:e.jsx("div",{className:"p-4 cursor-pointer",onClick:()=>I(g?null:t.id),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${a.bgColor} flex items-center justify-center`,children:e.jsx(a.icon,{className:`w-5 h-5 ${a.color}`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold text-white",children:t.title}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${a.bgColor} ${a.color}`,children:a.label}),t.priority==="high"&&e.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-red-500/30 text-red-300",children:"عاجل"})]}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:t.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-slate-500 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"w-3 h-3"}),t.createdAt]}),e.jsxs("span",{children:["بواسطة: ",t.createdBy]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:T=>{T.stopPropagation(),$(t.id)},className:"p-2 hover:bg-slate-700/50 rounded-lg transition-colors text-slate-500 hover:text-red-400",children:e.jsx(j,{className:"w-4 h-4"})}),g?e.jsx(M,{className:"w-5 h-5"}):e.jsx(U,{className:"w-5 h-5"})]})]})})},t.id)})}),b&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed bottom-6 left-6 right-6 bg-green-500 text-white p-4 rounded-2xl shadow-2xl flex items-center justify-center gap-3",children:[e.jsx(u,{className:"w-6 h-6"}),e.jsx("span",{className:"font-bold",children:"تم تأكيد استلام الوردية بنجاح"})]})]})};export{X as ShiftHandover,X as default};
